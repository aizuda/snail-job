import{bI as Mt,d7 as St,a as le,b3 as vt,bs as pe,b8 as Nt,bt as Ie,by as jt,d as et,b9 as Rt,r as _e,i as Ot,q as Me,bd as De,bc as tt,bf as Ct,am as Le,aT as oe,aV as nt,o as Ee,b as st,e as it,cm as Tt,$ as L,f as v,B as Q,d8 as Bt,Y as $t,aM as Pe,a4 as He,aE as Ue,c as We,w as ee,h as W,a5 as At,d9 as It,g as ze,aj as Dt,al as Lt,da as Ge,ab as Pt,F as Ht,db as Fe}from"./index-C5sM1HKF.js";import{u as Ut}from"./table-qi5z8dO_.js";import{j as Wt,k as zt}from"./job-DEEdJQqm.js";import{b as Gt}from"./Grid-YI5uZlWq.js";function Ft(e,t){const n=Mt(St,null);return le(()=>e.hljs||(n==null?void 0:n.mergedHljsRef.value))}function Kt(e){const{textColor2:t,fontSize:n,fontWeightStrong:l,textColor3:p}=e;return{textColor:t,fontSize:n,fontWeightStrong:l,"mono-3":"#a0a1a7","hue-1":"#0184bb","hue-2":"#4078f2","hue-3":"#a626a4","hue-4":"#50a14f","hue-5":"#e45649","hue-5-2":"#c91243","hue-6":"#986801","hue-6-2":"#c18401",lineNumberTextColor:p}}const Jt={name:"Code",common:vt,self:Kt},qt=pe([Nt("code",`
 font-size: var(--n-font-size);
 font-family: var(--n-font-family);
 `,[Ie("show-line-numbers",`
 display: flex;
 `),jt("line-numbers",`
 user-select: none;
 padding-right: 12px;
 text-align: right;
 transition: color .3s var(--n-bezier);
 color: var(--n-line-number-text-color);
 `),Ie("word-wrap",[pe("pre",`
 white-space: pre-wrap;
 word-break: break-all;
 `)]),pe("pre",`
 margin: 0;
 line-height: inherit;
 font-size: inherit;
 font-family: inherit;
 `),pe("[class^=hljs]",`
 color: var(--n-text-color);
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),({props:e})=>{const t=`${e.bPrefix}code`;return[`${t} .hljs-comment,
 ${t} .hljs-quote {
 color: var(--n-mono-3);
 font-style: italic;
 }`,`${t} .hljs-doctag,
 ${t} .hljs-keyword,
 ${t} .hljs-formula {
 color: var(--n-hue-3);
 }`,`${t} .hljs-section,
 ${t} .hljs-name,
 ${t} .hljs-selector-tag,
 ${t} .hljs-deletion,
 ${t} .hljs-subst {
 color: var(--n-hue-5);
 }`,`${t} .hljs-literal {
 color: var(--n-hue-1);
 }`,`${t} .hljs-string,
 ${t} .hljs-regexp,
 ${t} .hljs-addition,
 ${t} .hljs-attribute,
 ${t} .hljs-meta-string {
 color: var(--n-hue-4);
 }`,`${t} .hljs-built_in,
 ${t} .hljs-class .hljs-title {
 color: var(--n-hue-6-2);
 }`,`${t} .hljs-attr,
 ${t} .hljs-variable,
 ${t} .hljs-template-variable,
 ${t} .hljs-type,
 ${t} .hljs-selector-class,
 ${t} .hljs-selector-attr,
 ${t} .hljs-selector-pseudo,
 ${t} .hljs-number {
 color: var(--n-hue-6);
 }`,`${t} .hljs-symbol,
 ${t} .hljs-bullet,
 ${t} .hljs-link,
 ${t} .hljs-meta,
 ${t} .hljs-selector-id,
 ${t} .hljs-title {
 color: var(--n-hue-2);
 }`,`${t} .hljs-emphasis {
 font-style: italic;
 }`,`${t} .hljs-strong {
 font-weight: var(--n-font-weight-strong);
 }`,`${t} .hljs-link {
 text-decoration: underline;
 }`]}]),Vt=Object.assign(Object.assign({},tt.props),{language:String,code:{type:String,default:""},trim:{type:Boolean,default:!0},hljs:Object,uri:Boolean,inline:Boolean,wordWrap:Boolean,showLineNumbers:Boolean,internalFontSize:Number,internalNoHighlight:Boolean}),Ke=et({name:"Code",props:Vt,setup(e,{slots:t}){const{internalNoHighlight:n}=e,{mergedClsPrefixRef:l,inlineThemeDisabled:p}=Rt(),g=_e(null),i=n?{value:void 0}:Ft(e),a=(S,C,j)=>{const{value:B}=i;return!B||!(S&&B.getLanguage(S))?null:B.highlight(j?C.trim():C,{language:S}).value},f=le(()=>e.inline||e.wordWrap?!1:e.showLineNumbers),m=()=>{if(t.default)return;const{value:S}=g;if(!S)return;const{language:C}=e,j=e.uri?window.decodeURIComponent(e.code):e.code;if(C){const A=a(C,j,e.trim);if(A!==null){if(e.inline)S.innerHTML=A;else{const J=S.querySelector(".__code__");J&&S.removeChild(J);const z=document.createElement("pre");z.className="__code__",z.innerHTML=A,S.appendChild(z)}return}}if(e.inline){S.textContent=j;return}const B=S.querySelector(".__code__");if(B)B.textContent=j;else{const A=document.createElement("pre");A.className="__code__",A.textContent=j,S.innerHTML="",S.appendChild(A)}};Ot(m),Me(De(e,"language"),m),Me(De(e,"code"),m),n||Me(i,m);const M=tt("Code","-code",qt,Jt,e,l),H=le(()=>{const{common:{cubicBezierEaseInOut:S,fontFamilyMono:C},self:{textColor:j,fontSize:B,fontWeightStrong:A,lineNumberTextColor:J,"mono-3":z,"hue-1":q,"hue-2":fe,"hue-3":se,"hue-4":ie,"hue-5":o,"hue-5-2":_,"hue-6":w,"hue-6-2":R}}=M.value,{internalFontSize:E}=e;return{"--n-font-size":E?`${E}px`:B,"--n-font-family":C,"--n-font-weight-strong":A,"--n-bezier":S,"--n-text-color":j,"--n-mono-3":z,"--n-hue-1":q,"--n-hue-2":fe,"--n-hue-3":se,"--n-hue-4":ie,"--n-hue-5":o,"--n-hue-5-2":_,"--n-hue-6":w,"--n-hue-6-2":R,"--n-line-number-text-color":J}}),P=p?Ct("code",le(()=>`${e.internalFontSize||"a"}`),H,e):void 0;return{mergedClsPrefix:l,codeRef:g,mergedShowLineNumbers:f,lineNumbers:le(()=>{let S=1;const C=[];let j=!1;for(const B of e.code)B===`
`?(j=!0,C.push(S++)):j=!1;return j||C.push(S++),C.join(`
`)}),cssVars:p?void 0:H,themeClass:P==null?void 0:P.themeClass,onRender:P==null?void 0:P.onRender}},render(){var e,t;const{mergedClsPrefix:n,wordWrap:l,mergedShowLineNumbers:p,onRender:g}=this;return g==null||g(),Le("code",{class:[`${n}-code`,this.themeClass,l&&`${n}-code--word-wrap`,p&&`${n}-code--show-line-numbers`],style:this.cssVars,ref:"codeRef"},p?Le("pre",{class:`${n}-code__line-numbers`},this.lineNumbers):null,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}});function ns(e){return oe({url:"/job/batch/list",method:"get",params:e})}function ss(e){return oe({url:`/job/batch/${e}`,method:"get"})}function is(e){return oe({url:`/job/batch/stop/${e}`,method:"post"})}function rs(e){return oe({url:`/job/batch/retry/${e}`,method:"post"})}function as(e){return oe({url:"/job/batch/ids",method:"delete",data:[e]})}function os(e){return oe({url:"/job/batch/ids",method:"delete",data:e})}const Xt={class:"inline-block",viewBox:"0 0 1024 1024",width:"1em",height:"1em"};function Yt(e,t){return Ee(),st("svg",Xt,t[0]||(t[0]=[it("path",{fill:"currentColor",d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9C912 303 733.5 124.3 512.6 124C291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2c3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1c-8.1-6.6-15.9-13.7-23.4-21.2a318.6 318.6 0 0 1-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7s63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6s52.5 63.6 68.6 101.7c16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.6 318.6 0 0 1-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 0 0-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9z"},null,-1)]))}const Zt=nt({name:"ant-design-redo-outlined",render:Yt}),Qt={class:"inline-block",viewBox:"0 0 1024 1024",width:"1em",height:"1em"};function en(e,t){return Ee(),st("svg",Qt,t[0]||(t[0]=[it("path",{fill:"currentColor",d:"M168 504.2c1-43.7 10-86.1 26.9-126c17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 0 1 755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 0 0 3 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92C282.7 92 96.3 275.6 92 503.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8m756 7.8h-60c-4.4 0-7.9 3.5-8 7.8c-1 43.7-10 86.1-26.9 126c-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 0 1 512.1 856a342.24 342.24 0 0 1-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 0 0-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 0 0-8-8.2"},null,-1)]))}const tn=nt({name:"ant-design-sync-outlined",render:en});function rt(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],l=typeof n;(l==="object"||l==="function")&&!Object.isFrozen(n)&&rt(n)}),e}class Je{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function at(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function X(e,...t){const n=Object.create(null);for(const l in e)n[l]=e[l];return t.forEach(function(l){for(const p in l)n[p]=l[p]}),n}const nn="</span>",qe=e=>!!e.scope,sn=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((l,p)=>`${l}${"_".repeat(p+1)}`)].join(" ")}return`${t}${e}`};class rn{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=at(t)}openNode(t){if(!qe(t))return;const n=sn(t.scope,{prefix:this.classPrefix});this.span(n)}closeNode(t){qe(t)&&(this.buffer+=nn)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const Ve=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class Ne{constructor(){this.rootNode=Ve(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=Ve({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(l=>this._walk(t,l)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{Ne._collapse(n)}))}}class an extends Ne{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,n){const l=t.root;n&&(l.scope=`language:${n}`),this.add(l)}toHTML(){return new rn(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function ce(e){return e?typeof e=="string"?e:e.source:null}function ot(e){return ne("(?=",e,")")}function on(e){return ne("(?:",e,")*")}function ln(e){return ne("(?:",e,")?")}function ne(...e){return e.map(n=>ce(n)).join("")}function cn(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function je(...e){return"("+(cn(e).capture?"":"?:")+e.map(l=>ce(l)).join("|")+")"}function lt(e){return new RegExp(e.toString()+"|").exec("").length-1}function un(e,t){const n=e&&e.exec(t);return n&&n.index===0}const fn=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Re(e,{joinWith:t}){let n=0;return e.map(l=>{n+=1;const p=n;let g=ce(l),i="";for(;g.length>0;){const a=fn.exec(g);if(!a){i+=g;break}i+=g.substring(0,a.index),g=g.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?i+="\\"+String(Number(a[1])+p):(i+=a[0],a[0]==="("&&n++)}return i}).map(l=>`(${l})`).join(t)}const dn=/\b\B/,ct="[a-zA-Z]\\w*",Oe="[a-zA-Z_]\\w*",ut="\\b\\d+(\\.\\d+)?",ft="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",dt="\\b(0b[01]+)",hn="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",gn=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=ne(t,/.*\b/,e.binary,/\b.*/)),X({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,l)=>{n.index!==0&&l.ignoreMatch()}},e)},ue={begin:"\\\\[\\s\\S]",relevance:0},pn={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ue]},bn={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ue]},_n={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},me=function(e,t,n={}){const l=X({scope:"comment",begin:e,end:t,contains:[]},n);l.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const p=je("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return l.contains.push({begin:ne(/[ ]+/,"(",p,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),l},En=me("//","$"),xn=me("/\\*","\\*/"),mn=me("#","$"),yn={scope:"number",begin:ut,relevance:0},kn={scope:"number",begin:ft,relevance:0},wn={scope:"number",begin:dt,relevance:0},Mn={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[ue,{begin:/\[/,end:/\]/,relevance:0,contains:[ue]}]},Sn={scope:"title",begin:ct,relevance:0},vn={scope:"title",begin:Oe,relevance:0},Nn={begin:"\\.\\s*"+Oe,relevance:0},jn=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var be=Object.freeze({__proto__:null,APOS_STRING_MODE:pn,BACKSLASH_ESCAPE:ue,BINARY_NUMBER_MODE:wn,BINARY_NUMBER_RE:dt,COMMENT:me,C_BLOCK_COMMENT_MODE:xn,C_LINE_COMMENT_MODE:En,C_NUMBER_MODE:kn,C_NUMBER_RE:ft,END_SAME_AS_BEGIN:jn,HASH_COMMENT_MODE:mn,IDENT_RE:ct,MATCH_NOTHING_RE:dn,METHOD_GUARD:Nn,NUMBER_MODE:yn,NUMBER_RE:ut,PHRASAL_WORDS_MODE:_n,QUOTE_STRING_MODE:bn,REGEXP_MODE:Mn,RE_STARTERS_RE:hn,SHEBANG:gn,TITLE_MODE:Sn,UNDERSCORE_IDENT_RE:Oe,UNDERSCORE_TITLE_MODE:vn});function Rn(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function On(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function Cn(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Rn,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function Tn(e,t){Array.isArray(e.illegal)&&(e.illegal=je(...e.illegal))}function Bn(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function $n(e,t){e.relevance===void 0&&(e.relevance=1)}const An=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(l=>{delete e[l]}),e.keywords=n.keywords,e.begin=ne(n.beforeMatch,ot(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},In=["of","and","for","in","not","or","if","then","parent","list","value"],Dn="keyword";function ht(e,t,n=Dn){const l=Object.create(null);return typeof e=="string"?p(n,e.split(" ")):Array.isArray(e)?p(n,e):Object.keys(e).forEach(function(g){Object.assign(l,ht(e[g],t,g))}),l;function p(g,i){t&&(i=i.map(a=>a.toLowerCase())),i.forEach(function(a){const f=a.split("|");l[f[0]]=[g,Ln(f[0],f[1])]})}}function Ln(e,t){return t?Number(t):Pn(e)?0:1}function Pn(e){return In.includes(e.toLowerCase())}const Xe={},te=e=>{console.error(e)},Ye=(e,...t)=>{console.log(`WARN: ${e}`,...t)},re=(e,t)=>{Xe[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Xe[`${e}/${t}`]=!0)},xe=new Error;function gt(e,t,{key:n}){let l=0;const p=e[n],g={},i={};for(let a=1;a<=t.length;a++)i[a+l]=p[a],g[a+l]=!0,l+=lt(t[a-1]);e[n]=i,e[n]._emit=g,e[n]._multi=!0}function Hn(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw te("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),xe;if(typeof e.beginScope!="object"||e.beginScope===null)throw te("beginScope must be object"),xe;gt(e,e.begin,{key:"beginScope"}),e.begin=Re(e.begin,{joinWith:""})}}function Un(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw te("skip, excludeEnd, returnEnd not compatible with endScope: {}"),xe;if(typeof e.endScope!="object"||e.endScope===null)throw te("endScope must be object"),xe;gt(e,e.end,{key:"endScope"}),e.end=Re(e.end,{joinWith:""})}}function Wn(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function zn(e){Wn(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),Hn(e),Un(e)}function Gn(e){function t(i,a){return new RegExp(ce(i),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(a?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,f){f.position=this.position++,this.matchIndexes[this.matchAt]=f,this.regexes.push([f,a]),this.matchAt+=lt(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(f=>f[1]);this.matcherRe=t(Re(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const f=this.matcherRe.exec(a);if(!f)return null;const m=f.findIndex((H,P)=>P>0&&H!==void 0),M=this.matchIndexes[m];return f.splice(0,m),Object.assign(f,M)}}class l{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const f=new n;return this.rules.slice(a).forEach(([m,M])=>f.addRule(m,M)),f.compile(),this.multiRegexes[a]=f,f}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,f){this.rules.push([a,f]),f.type==="begin"&&this.count++}exec(a){const f=this.getMatcher(this.regexIndex);f.lastIndex=this.lastIndex;let m=f.exec(a);if(this.resumingScanAtSamePosition()&&!(m&&m.index===this.lastIndex)){const M=this.getMatcher(0);M.lastIndex=this.lastIndex+1,m=M.exec(a)}return m&&(this.regexIndex+=m.position+1,this.regexIndex===this.count&&this.considerAll()),m}}function p(i){const a=new l;return i.contains.forEach(f=>a.addRule(f.begin,{rule:f,type:"begin"})),i.terminatorEnd&&a.addRule(i.terminatorEnd,{type:"end"}),i.illegal&&a.addRule(i.illegal,{type:"illegal"}),a}function g(i,a){const f=i;if(i.isCompiled)return f;[On,Bn,zn,An].forEach(M=>M(i,a)),e.compilerExtensions.forEach(M=>M(i,a)),i.__beforeBegin=null,[Cn,Tn,$n].forEach(M=>M(i,a)),i.isCompiled=!0;let m=null;return typeof i.keywords=="object"&&i.keywords.$pattern&&(i.keywords=Object.assign({},i.keywords),m=i.keywords.$pattern,delete i.keywords.$pattern),m=m||/\w+/,i.keywords&&(i.keywords=ht(i.keywords,e.case_insensitive)),f.keywordPatternRe=t(m,!0),a&&(i.begin||(i.begin=/\B|\b/),f.beginRe=t(f.begin),!i.end&&!i.endsWithParent&&(i.end=/\B|\b/),i.end&&(f.endRe=t(f.end)),f.terminatorEnd=ce(f.end)||"",i.endsWithParent&&a.terminatorEnd&&(f.terminatorEnd+=(i.end?"|":"")+a.terminatorEnd)),i.illegal&&(f.illegalRe=t(i.illegal)),i.contains||(i.contains=[]),i.contains=[].concat(...i.contains.map(function(M){return Fn(M==="self"?i:M)})),i.contains.forEach(function(M){g(M,f)}),i.starts&&g(i.starts,a),f.matcher=p(f),f}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=X(e.classNameAliases||{}),g(e)}function pt(e){return e?e.endsWithParent||pt(e.starts):!1}function Fn(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return X(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:pt(e)?X(e,{starts:e.starts?X(e.starts):null}):Object.isFrozen(e)?X(e):e}var Kn="11.11.0";class Jn extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const Se=at,Ze=X,Qe=Symbol("nomatch"),qn=7,bt=function(e){const t=Object.create(null),n=Object.create(null),l=[];let p=!0;const g="Could not find the language '{}', did you forget to load/include a language module?",i={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:an};function f(s){return a.noHighlightRe.test(s)}function m(s){let u=s.className+" ";u+=s.parentNode?s.parentNode.className:"";const b=a.languageDetectRe.exec(u);if(b){const y=o(b[1]);return y||(Ye(g.replace("{}",b[1])),Ye("Falling back to no-highlight mode for this block.",s)),y?b[1]:"no-highlight"}return u.split(/\s+/).find(y=>f(y)||o(y))}function M(s,u,b){let y="",N="";typeof u=="object"?(y=s,b=u.ignoreIllegals,N=u.language):(re("10.7.0","highlight(lang, code, ...args) has been deprecated."),re("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),N=s,y=u),b===void 0&&(b=!0);const U={code:y,language:N};$("before:highlight",U);const V=U.result?U.result:H(U.language,U.code,b);return V.code=U.code,$("after:highlight",V),V}function H(s,u,b,y){const N=Object.create(null);function U(r,c){return r.keywords[c]}function V(){if(!d.keywords){O.addText(k);return}let r=0;d.keywordPatternRe.lastIndex=0;let c=d.keywordPatternRe.exec(k),h="";for(;c;){h+=k.substring(r,c.index);const x=F.case_insensitive?c[0].toLowerCase():c[0],T=U(d,x);if(T){const[K,kt]=T;if(O.addText(h),h="",N[x]=(N[x]||0)+1,N[x]<=qn&&(ge+=kt),K.startsWith("_"))h+=c[0];else{const wt=F.classNameAliases[K]||K;G(c[0],wt)}}else h+=c[0];r=d.keywordPatternRe.lastIndex,c=d.keywordPatternRe.exec(k)}h+=k.substring(r),O.addText(h)}function de(){if(k==="")return;let r=null;if(typeof d.subLanguage=="string"){if(!t[d.subLanguage]){O.addText(k);return}r=H(d.subLanguage,k,!0,Ae[d.subLanguage]),Ae[d.subLanguage]=r._top}else r=S(k,d.subLanguage.length?d.subLanguage:null);d.relevance>0&&(ge+=r.relevance),O.__addSublanguage(r._emitter,r.language)}function D(){d.subLanguage!=null?de():V(),k=""}function G(r,c){r!==""&&(O.startScope(c),O.addText(r),O.endScope())}function Ce(r,c){let h=1;const x=c.length-1;for(;h<=x;){if(!r._emit[h]){h++;continue}const T=F.classNameAliases[r[h]]||r[h],K=c[h];T?G(K,T):(k=K,V(),k=""),h++}}function Te(r,c){return r.scope&&typeof r.scope=="string"&&O.openNode(F.classNameAliases[r.scope]||r.scope),r.beginScope&&(r.beginScope._wrap?(G(k,F.classNameAliases[r.beginScope._wrap]||r.beginScope._wrap),k=""):r.beginScope._multi&&(Ce(r.beginScope,c),k="")),d=Object.create(r,{parent:{value:d}}),d}function Be(r,c,h){let x=un(r.endRe,h);if(x){if(r["on:end"]){const T=new Je(r);r["on:end"](c,T),T.isMatchIgnored&&(x=!1)}if(x){for(;r.endsParent&&r.parent;)r=r.parent;return r}}if(r.endsWithParent)return Be(r.parent,c,h)}function _t(r){return d.matcher.regexIndex===0?(k+=r[0],1):(we=!0,0)}function Et(r){const c=r[0],h=r.rule,x=new Je(h),T=[h.__beforeBegin,h["on:begin"]];for(const K of T)if(K&&(K(r,x),x.isMatchIgnored))return _t(c);return h.skip?k+=c:(h.excludeBegin&&(k+=c),D(),!h.returnBegin&&!h.excludeBegin&&(k=c)),Te(h,r),h.returnBegin?0:c.length}function xt(r){const c=r[0],h=u.substring(r.index),x=Be(d,r,h);if(!x)return Qe;const T=d;d.endScope&&d.endScope._wrap?(D(),G(c,d.endScope._wrap)):d.endScope&&d.endScope._multi?(D(),Ce(d.endScope,r)):T.skip?k+=c:(T.returnEnd||T.excludeEnd||(k+=c),D(),T.excludeEnd&&(k=c));do d.scope&&O.closeNode(),!d.skip&&!d.subLanguage&&(ge+=d.relevance),d=d.parent;while(d!==x.parent);return x.starts&&Te(x.starts,r),T.returnEnd?0:c.length}function mt(){const r=[];for(let c=d;c!==F;c=c.parent)c.scope&&r.unshift(c.scope);r.forEach(c=>O.openNode(c))}let he={};function $e(r,c){const h=c&&c[0];if(k+=r,h==null)return D(),0;if(he.type==="begin"&&c.type==="end"&&he.index===c.index&&h===""){if(k+=u.slice(c.index,c.index+1),!p){const x=new Error(`0 width match regex (${s})`);throw x.languageName=s,x.badRule=he.rule,x}return 1}if(he=c,c.type==="begin")return Et(c);if(c.type==="illegal"&&!b){const x=new Error('Illegal lexeme "'+h+'" for mode "'+(d.scope||"<unnamed>")+'"');throw x.mode=d,x}else if(c.type==="end"){const x=xt(c);if(x!==Qe)return x}if(c.type==="illegal"&&h==="")return k+=`
`,1;if(ke>1e5&&ke>c.index*3)throw new Error("potential infinite loop, way more iterations than matches");return k+=h,h.length}const F=o(s);if(!F)throw te(g.replace("{}",s)),new Error('Unknown language: "'+s+'"');const yt=Gn(F);let ye="",d=y||yt;const Ae={},O=new a.__emitter(a);mt();let k="",ge=0,Z=0,ke=0,we=!1;try{if(F.__emitTokens)F.__emitTokens(u,O);else{for(d.matcher.considerAll();;){ke++,we?we=!1:d.matcher.considerAll(),d.matcher.lastIndex=Z;const r=d.matcher.exec(u);if(!r)break;const c=u.substring(Z,r.index),h=$e(c,r);Z=r.index+h}$e(u.substring(Z))}return O.finalize(),ye=O.toHTML(),{language:s,value:ye,relevance:ge,illegal:!1,_emitter:O,_top:d}}catch(r){if(r.message&&r.message.includes("Illegal"))return{language:s,value:Se(u),illegal:!0,relevance:0,_illegalBy:{message:r.message,index:Z,context:u.slice(Z-100,Z+100),mode:r.mode,resultSoFar:ye},_emitter:O};if(p)return{language:s,value:Se(u),illegal:!1,relevance:0,errorRaised:r,_emitter:O,_top:d};throw r}}function P(s){const u={value:Se(s),illegal:!1,relevance:0,_top:i,_emitter:new a.__emitter(a)};return u._emitter.addText(s),u}function S(s,u){u=u||a.languages||Object.keys(t);const b=P(s),y=u.filter(o).filter(w).map(D=>H(D,s,!1));y.unshift(b);const N=y.sort((D,G)=>{if(D.relevance!==G.relevance)return G.relevance-D.relevance;if(D.language&&G.language){if(o(D.language).supersetOf===G.language)return 1;if(o(G.language).supersetOf===D.language)return-1}return 0}),[U,V]=N,de=U;return de.secondBest=V,de}function C(s,u,b){const y=u&&n[u]||b;s.classList.add("hljs"),s.classList.add(`language-${y}`)}function j(s){let u=null;const b=m(s);if(f(b))return;if($("before:highlightElement",{el:s,language:b}),s.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",s);return}if(s.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(s)),a.throwUnescapedHTML))throw new Jn("One of your code blocks includes unescaped HTML.",s.innerHTML);u=s;const y=u.textContent,N=b?M(y,{language:b,ignoreIllegals:!0}):S(y);s.innerHTML=N.value,s.dataset.highlighted="yes",C(s,b,N.language),s.result={language:N.language,re:N.relevance,relevance:N.relevance},N.secondBest&&(s.secondBest={language:N.secondBest.language,relevance:N.secondBest.relevance}),$("after:highlightElement",{el:s,result:N,text:y})}function B(s){a=Ze(a,s)}const A=()=>{q(),re("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function J(){q(),re("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let z=!1;function q(){function s(){q()}if(document.readyState==="loading"){z||window.addEventListener("DOMContentLoaded",s,!1),z=!0;return}document.querySelectorAll(a.cssSelector).forEach(j)}function fe(s,u){let b=null;try{b=u(e)}catch(y){if(te("Language definition for '{}' could not be registered.".replace("{}",s)),p)te(y);else throw y;b=i}b.name||(b.name=s),t[s]=b,b.rawDefinition=u.bind(null,e),b.aliases&&_(b.aliases,{languageName:s})}function se(s){delete t[s];for(const u of Object.keys(n))n[u]===s&&delete n[u]}function ie(){return Object.keys(t)}function o(s){return s=(s||"").toLowerCase(),t[s]||t[n[s]]}function _(s,{languageName:u}){typeof s=="string"&&(s=[s]),s.forEach(b=>{n[b.toLowerCase()]=u})}function w(s){const u=o(s);return u&&!u.disableAutodetect}function R(s){s["before:highlightBlock"]&&!s["before:highlightElement"]&&(s["before:highlightElement"]=u=>{s["before:highlightBlock"](Object.assign({block:u.el},u))}),s["after:highlightBlock"]&&!s["after:highlightElement"]&&(s["after:highlightElement"]=u=>{s["after:highlightBlock"](Object.assign({block:u.el},u))})}function E(s){R(s),l.push(s)}function I(s){const u=l.indexOf(s);u!==-1&&l.splice(u,1)}function $(s,u){const b=s;l.forEach(function(y){y[b]&&y[b](u)})}function Y(s){return re("10.7.0","highlightBlock will be removed entirely in v12.0"),re("10.7.0","Please use highlightElement now."),j(s)}Object.assign(e,{highlight:M,highlightAuto:S,highlightAll:q,highlightElement:j,highlightBlock:Y,configure:B,initHighlighting:A,initHighlightingOnLoad:J,registerLanguage:fe,unregisterLanguage:se,listLanguages:ie,getLanguage:o,registerAliases:_,autoDetection:w,inherit:Ze,addPlugin:E,removePlugin:I}),e.debugMode=function(){p=!1},e.safeMode=function(){p=!0},e.versionString=Kn,e.regex={concat:ne,lookahead:ot,either:je,optional:ln,anyNumberOfTimes:on};for(const s in be)typeof be[s]=="object"&&rt(be[s]);return Object.assign(e,be),e},ae=bt({});ae.newInstance=()=>bt({});var Vn=ae;ae.HighlightJS=ae;ae.default=ae;const ve=Tt(Vn);function Xn(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},l=["true","false","null"],p={scope:"literal",beginKeywords:l.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:l},contains:[t,n,e.QUOTE_STRING_MODE,p,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function Yn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Lt(e)}const ls=et({name:"JobTaskListTable",__name:"job-task-list-table",props:{rowData:{default:null},isRetry:{type:Boolean}},emits:["retry","showLog"],setup(e,{emit:t}){var se,ie;ve.registerLanguage("json",Xn);const n=e,l=t,p=_e([]),g=_e(new Map),i=_e(new Map),{columns:a,searchParams:f,columnChecks:m,data:M,getData:H,loading:P,mobilePagination:S}=Ut({apiFn:Wt,apiParams:{page:1,size:10,groupName:(se=n.rowData)==null?void 0:se.groupName,taskBatchId:(ie=n.rowData)==null?void 0:ie.id,startId:0,fromIndex:0,taskStatus:void 0},columns:()=>[{key:"id",title:L("page.jobBatch.jobTask.id"),align:"left",width:100,ellipsis:{tooltip:!0}},{key:"index",title:L("common.log"),align:"center",width:64,render:o=>v(Q,{type:"info",text:!0,onClick:()=>l("showLog",o)},{default:()=>[v("span",{class:"w-28px ws-break-spaces"},[L("page.log.view")])]})},{key:"groupName",title:L("page.jobBatch.jobTask.groupName"),align:"left",minWidth:180},{key:"taskName",title:L("page.jobBatch.jobName"),align:"left",minWidth:180},{key:"taskStatus",title:L("page.jobBatch.jobTask.taskStatus"),align:"left",minWidth:80,render:o=>{if(o.taskStatus===null)return null;const _=L(Bt[o.taskStatus]);return v($t,{type:{1:"info",2:"info",3:"info",4:"error",5:"error",6:"error"}[o.taskStatus]},Yn(_)?_:{default:()=>[_]})}},{key:"clientInfo",title:L("page.jobBatch.jobTask.clientInfo"),align:"left",minWidth:150,render:o=>{var _;if(o.clientInfo){const w=(_=o.clientInfo)==null?void 0:_.split("@"),R=w.length>1?w[1]:"";return v("div",null,[R])}return v("div",null,[o.clientInfo])}},{key:"argsStr",title:L("page.jobBatch.jobTask.argsStr"),align:"center",titleAlign:"center",minWidth:120,render:o=>{const _=()=>v("td",{class:"n-data-table-td n-data-table-td--last-col",colspan:a.value.length||9},[v(Ke,{class:`max-h-300px overflow-auto ${String(o.parentId)!=="0"?"pl-36px":""}`,hljs:ve,code:Fe(o.argsStr),language:"json","show-line-numbers":!0},null)]),w=()=>{if(i.value.get(o.id)){const $=document.querySelector(`#job-task-result-${o.id}`);$==null||$.remove(),i.value.set(o.id,!1)}if(g.value.get(o.id))return;const E=document.querySelector(`#job-task-${o.id}`),I=document.createElement("tr");I.setAttribute("id",`job-task-args-${o.id}`),I.setAttribute("class","n-data-table-tr n-data-table-tr--expanded"),E==null||E.after(I),Ge(_(),I),g.value.set(o.id,!0)},R=()=>{if(!g.value.get(o.id))return;const E=document.querySelector(`#job-task-args-${o.id}`);E==null||E.remove(),g.value.set(o.id,!1)};return v(He,null,[g.value.get(o.id)?v(Q,{type:"primary",text:!0,onClick:()=>R()},{default:()=>[v("span",{class:"w-28px ws-break-spaces"},["收起"])]}):v(Q,{type:"primary",text:!0,disabled:!Pe(o.argsStr),onClick:()=>w()},{default:()=>[v("span",{class:"w-28px ws-break-spaces"},[`查看
参数`])]})])}},{key:"resultMessage",title:L("page.jobBatch.jobTask.resultMessage"),align:"left",minWidth:120,render:o=>{const _=()=>v("td",{class:"n-data-table-td n-data-table-td--last-col",colspan:a.value.length||9},[v(Ke,{class:`max-h-300px overflow-auto ${String(o.parentId)!=="0"?"pl-36px":""}`,hljs:ve,code:Fe(o.resultMessage),language:"json","show-line-numbers":!0},null)]),w=()=>{if(g.value.get(o.id)){const $=document.querySelector(`#job-task-args-${o.id}`);$==null||$.remove(),g.value.set(o.id,!1)}if(i.value.get(o.id))return;const E=document.querySelector(`#job-task-${o.id}`),I=document.createElement("tr");I.setAttribute("id",`job-task-result-${o.id}`),I.setAttribute("class","n-data-table-tr n-data-table-tr--expanded"),E==null||E.after(I),Ge(_(),I),i.value.set(o.id,!0)},R=()=>{if(!i.value.get(o.id))return;const E=document.querySelector(`#job-task-result-${o.id}`);E==null||E.remove(),i.value.set(o.id,!1)};return v(He,null,[i.value.get(o.id)?v(Q,{type:"primary",text:!0,onClick:()=>R()},{default:()=>[v("span",{class:"w-28px ws-break-spaces"},["收起"])]}):v(Q,{type:"primary",text:!0,disabled:!Pe(o.resultMessage),onClick:()=>w()},{default:()=>[v("span",{class:"w-28px ws-break-spaces"},[`查看
结果`])]})])}},{key:"retryCount",title:L("page.jobBatch.jobTask.retryCount"),align:"left",minWidth:64},{key:"createDt",title:L("page.jobBatch.jobTask.createDt"),align:"left",minWidth:130},{key:"duration",title:L("page.jobBatch.duration"),align:"center",width:120,render:o=>o.taskStatus===3?Math.round(Ue(o.updateDt).diff(Ue(o.createDt))/1e3):null}]}),C=()=>{const o=i.value.entries();for(const[w,R]of o){const E=document.querySelector(`#job-task-result-${w}`);E==null||E.remove(),i.value.set(w,!1)}const _=g.value.entries();for(const[w,R]of _){const E=document.querySelector(`#job-task-args-${w}`);E==null||E.remove(),g.value.set(w,!1)}},j=o=>new Promise((_,w)=>{zt({groupName:o.groupName,taskBatchId:o.taskBatchId,startId:0,fromIndex:0,parentId:o.id}).then(R=>{o.children=R.data||[],_()}).catch(R=>{w(R)})}),B=o=>{p.value=o},A=o=>{p.value=[],C()};async function J(){f.taskStatus=void 0,p.value=[],C(),await H()}const z=async()=>{l("retry")},q=()=>{var o,_,w;return((o=n.rowData)==null?void 0:o.taskBatchStatus)===4||((_=n.rowData)==null?void 0:_.taskBatchStatus)===5||((w=n.rowData)==null?void 0:w.taskBatchStatus)===6};return(()=>{m.value=m.value.filter(o=>{var _;return["4","5"].includes(String((_=n.rowData)==null?void 0:_.taskType)||"-1")?!0:o.key!=="taskName"})})(),(o,_)=>{const w=Pt,R=tn,E=Zt,I=Gt,$=Ht;return Ee(),We($,{bordered:!1,size:"small",class:"sm:flex-1-hidden card-wrapper pt-16px","content-style":{padding:0},"header-style":{padding:0}},{header:ee(()=>[v(w,{value:W(f).taskStatus,"onUpdate:value":[_[0]||(_[0]=Y=>W(f).taskStatus=Y),W(H)],clearable:"",class:"max-w-180px",options:W(At)(W(It)),placeholder:"请选择状态"},null,8,["value","options","onUpdate:value"])]),"header-extra":ee(()=>[v(W(Q),{class:"mr-16px",onClick:J},{icon:ee(()=>[v(R,{class:"text-icon"})]),default:ee(()=>[_[1]||(_[1]=ze(" 刷新 "))]),_:1}),q()?(Ee(),We(W(Q),{key:0,onClick:z},{icon:ee(()=>[v(E,{class:"text-icon"})]),default:ee(()=>[_[2]||(_[2]=ze(" 重试 "))]),_:1})):Dt("",!0)]),default:ee(()=>[v(I,{columns:W(a),data:W(M),loading:W(P),remote:"","scroll-x":1e3,"row-key":Y=>Y.id,pagination:W(S),indent:16,cascade:!1,"allow-checking-not-loaded":"","expanded-row-keys":p.value,class:"mt-16px sm:h-full","row-props":Y=>({id:`job-task-${Y.id}`}),"onUpdate:expandedRowKeys":B,"onUpdate:page":A,onLoad:j},null,8,["columns","data","loading","row-key","pagination","expanded-row-keys","row-props"])]),_:1})}}});export{ve as H,ls as _,ns as a,as as b,os as c,is as d,ss as e,rs as f,Zt as g,Xn as j};
