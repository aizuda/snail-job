import{bx as ne,b6 as A,c3 as ae,d as M,b7 as le,b9 as oe,z as f,bb as se,bc as re,ba as k,c4 as ue,a as v,c5 as ie,bd as de,bW as ce,c6 as F,aj as d,c7 as me,c8 as fe,c9 as he,s as ve,ca as pe,T as ge,cb as be,cc as Se,cd as Te,ce as _e,cf as ye,bh as h,Q as Be,R as Ce,o as Re,c as Fe,h as R,$ as Oe,X as we,cg as xe,a6 as Ie}from"./index-D3rICic-.js";function Ve(t){return t.map(z)}function z(t){var o,a;return typeof t=="string"?{label:t,value:t}:t.type==="group"?{type:"group",label:(o=t.label)!==null&&o!==void 0?o:t.name,value:(a=t.value)!==null&&a!==void 0?a:t.name,key:t.key||t.name,children:t.children.map(l=>z(l))}:t}const Ae=ne([A("auto-complete",`
 z-index: auto;
 position: relative;
 display: inline-flex;
 width: 100%;
 `),A("auto-complete-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[ae({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),Me=Object.assign(Object.assign({},k.props),{to:F.propTo,menuProps:Object,append:Boolean,bordered:{type:Boolean,default:void 0},clearable:{type:Boolean,default:void 0},defaultValue:{type:String,default:null},loading:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},placeholder:String,placement:{type:String,default:"bottom-start"},value:String,blurAfterSelect:Boolean,clearAfterSelect:Boolean,getShow:Function,showEmpty:Boolean,inputProps:Object,renderOption:Function,renderLabel:Function,size:String,options:{type:Array,default:()=>[]},zIndex:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onSelect:[Function,Array],onBlur:[Function,Array],onFocus:[Function,Array],onInput:[Function,Array]}),ze=M({name:"AutoComplete",props:Me,setup(t){const{mergedBorderedRef:o,namespaceRef:a,mergedClsPrefixRef:s,inlineThemeDisabled:l}=le(t),i=oe(t),{mergedSizeRef:T,mergedDisabledRef:P,mergedStatusRef:$}=i,_=f(null),p=f(null),y=f(t.defaultValue),E=se(t,"value"),g=re(E,y),c=f(!1),B=f(!1),O=k("AutoComplete","-auto-complete",Ae,ue,t,s),w=v(()=>Ve(t.options)),j=v(()=>{const{getShow:e}=t;return e?e(g.value||""):!!g.value}),D=v(()=>j.value&&c.value&&(t.showEmpty?!0:!!w.value.length)),U=v(()=>ie(w.value,_e("value","children")));function b(e){const{"onUpdate:value":n,onUpdateValue:r,onInput:u}=t,{nTriggerFormInput:S,nTriggerFormChange:te}=i;r&&h(r,e),n&&h(n,e),u&&h(u,e),y.value=e,S(),te()}function N(e){const{onSelect:n}=t,{nTriggerFormInput:r,nTriggerFormChange:u}=i;n&&h(n,e),r(),u()}function L(e){const{onBlur:n}=t,{nTriggerFormBlur:r}=i;n&&h(n,e),r()}function K(e){const{onFocus:n}=t,{nTriggerFormFocus:r}=i;n&&h(n,e),r()}function H(){B.value=!0}function Q(){window.setTimeout(()=>{B.value=!1},0)}function W(e){var n,r,u;switch(e.key){case"Enter":if(!B.value){const S=(n=p.value)===null||n===void 0?void 0:n.getPendingTmNode();S&&(x(S.rawNode),e.preventDefault())}break;case"ArrowDown":(r=p.value)===null||r===void 0||r.next();break;case"ArrowUp":(u=p.value)===null||u===void 0||u.prev();break}}function x(e){(e==null?void 0:e.value)!==void 0&&(N(e.value),t.clearAfterSelect?b(null):e.label!==void 0&&b(t.append?`${g.value}${e.label}`:e.label),c.value=!1,t.blurAfterSelect&&ee())}function X(){b(null)}function q(e){c.value=!0,K(e)}function G(e){c.value=!1,L(e)}function J(e){c.value=!0,b(e)}function Y(e){x(e.rawNode)}function Z(e){var n;!((n=_.value)===null||n===void 0)&&n.contains(ye(e))||(c.value=!1)}function ee(){var e,n;!((e=_.value)===null||e===void 0)&&e.contains(document.activeElement)&&((n=document.activeElement)===null||n===void 0||n.blur())}const I=v(()=>{const{common:{cubicBezierEaseInOut:e},self:{menuBoxShadow:n}}=O.value;return{"--n-menu-box-shadow":n,"--n-bezier":e}}),m=l?de("auto-complete",void 0,I,t):void 0,C=f(null),V={focus:()=>{var e;(e=C.value)===null||e===void 0||e.focus()},blur:()=>{var e;(e=C.value)===null||e===void 0||e.blur()}};return{focus:V.focus,blur:V.blur,inputInstRef:C,uncontrolledValue:y,mergedValue:g,isMounted:ce(),adjustedTo:F(t),menuInstRef:p,triggerElRef:_,treeMate:U,mergedSize:T,mergedDisabled:P,active:D,mergedStatus:$,handleClear:X,handleFocus:q,handleBlur:G,handleInput:J,handleToggle:Y,handleClickOutsideMenu:Z,handleCompositionStart:H,handleCompositionEnd:Q,handleKeyDown:W,mergedTheme:O,cssVars:l?void 0:I,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender,mergedBordered:o,namespace:a,mergedClsPrefix:s}},render(){const{mergedClsPrefix:t}=this;return d("div",{class:`${t}-auto-complete`,ref:"triggerElRef",onKeydown:this.handleKeyDown,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd},d(me,null,{default:()=>[d(fe,null,{default:()=>{if(this.$slots.default)return he(this.$slots,"default",{handleInput:this.handleInput,handleFocus:this.handleFocus,handleBlur:this.handleBlur,value:this.mergedValue});const{mergedTheme:a}=this;return d(ve,{ref:"inputInstRef",status:this.mergedStatus,theme:a.peers.Input,themeOverrides:a.peerOverrides.Input,bordered:this.mergedBordered,value:this.mergedValue,placeholder:this.placeholder,size:this.mergedSize,disabled:this.mergedDisabled,clearable:this.clearable,loading:this.loading,inputProps:this.inputProps,onClear:this.handleClear,onFocus:this.handleFocus,onUpdateValue:this.handleInput,onBlur:this.handleBlur},{suffix:()=>{var s,l;return(l=(s=this.$slots).suffix)===null||l===void 0?void 0:l.call(s)},prefix:()=>{var s,l;return(l=(s=this.$slots).prefix)===null||l===void 0?void 0:l.call(s)}})}}),d(pe,{show:this.active,to:this.adjustedTo,containerClass:this.namespace,zIndex:this.zIndex,teleportDisabled:this.adjustedTo===F.tdkey,placement:this.placement,width:"target"},{default:()=>d(ge,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>{var o;if((o=this.onRender)===null||o===void 0||o.call(this),!this.active)return null;const{menuProps:a}=this;return be(d(Te,Object.assign({},a,{clsPrefix:t,ref:"menuInstRef",theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,"auto-pending":!0,class:[`${t}-auto-complete-menu`,this.themeClass,a==null?void 0:a.class],style:[a==null?void 0:a.style,this.cssVars],treeMate:this.treeMate,multiple:!1,renderLabel:this.renderLabel,renderOption:this.renderOption,size:"medium",onToggle:this.handleToggle}),{empty:()=>{var s,l;return(l=(s=this.$slots).empty)===null||l===void 0?void 0:l.call(s)}}),[[Se,this.handleClickOutsideMenu,void 0,{capture:!0}]])}})})]}))}}),Pe=M({name:"TaskBatchStatus",__name:"task-batch-status",props:Be({disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const o=t,a=Ce(t,"modelValue");return(s,l)=>{const i=Ie;return Re(),Fe(i,{value:a.value,"onUpdate:value":l[0]||(l[0]=T=>a.value=T),placeholder:R(Oe)("common.taskBatchStatus.form"),options:R(we)(R(xe)),disabled:o.disabled,clearable:o.clearable},null,8,["value","placeholder","options","disabled","clearable"])}}});export{Pe as _,ze as a};
