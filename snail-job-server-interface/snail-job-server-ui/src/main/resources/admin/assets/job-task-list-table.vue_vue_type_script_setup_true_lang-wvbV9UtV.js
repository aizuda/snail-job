import{bB as En,cP as xn,a as xe,bu as mn,b9 as je,ba as yn,bb as st,by as kn,d as pt,ai as rt,bc as wn,r as Re,l as Sn,p as Le,bL as it,bd as bt,bf as Mn,aP as ge,aR as _t,b as Et,o as Oe,e as xt,cQ as vn,c as at,E as Nn,w as ce,f as k,h as V,P as jn,B as ue,g as ot,ac as Rn,ad as On,cR as Cn,$ as G,cS as Tn,Y as Bn,aH as lt,a2 as ct,aA as ut,cT as ft,cU as ht,ah as An}from"./index-DsXulf34.js";import{m as $n,n as In}from"./job-DnRsninN.js";import{u as Dn}from"./table-C5lzqi4D.js";import{b as Ln}from"./Grid-DdJm4X1d.js";function Pn(u,l){const y=En(xn,null);return xe(()=>u.hljs||y?.mergedHljsRef.value)}function Hn(u){const{textColor2:l,fontSize:y,fontWeightStrong:v,textColor3:A}=u;return{textColor:l,fontSize:y,fontWeightStrong:v,"mono-3":"#a0a1a7","hue-1":"#0184bb","hue-2":"#4078f2","hue-3":"#a626a4","hue-4":"#50a14f","hue-5":"#e45649","hue-5-2":"#c91243","hue-6":"#986801","hue-6-2":"#c18401",lineNumberTextColor:A}}const Un={common:mn,self:Hn},Wn=je([yn("code",`
 font-size: var(--n-font-size);
 font-family: var(--n-font-family);
 `,[st("show-line-numbers",`
 display: flex;
 `),kn("line-numbers",`
 user-select: none;
 padding-right: 12px;
 text-align: right;
 transition: color .3s var(--n-bezier);
 color: var(--n-line-number-text-color);
 `),st("word-wrap",[je("pre",`
 white-space: pre-wrap;
 word-break: break-all;
 `)]),je("pre",`
 margin: 0;
 line-height: inherit;
 font-size: inherit;
 font-family: inherit;
 `),je("[class^=hljs]",`
 color: var(--n-text-color);
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),({props:u})=>{const l=`${u.bPrefix}code`;return[`${l} .hljs-comment,
 ${l} .hljs-quote {
 color: var(--n-mono-3);
 font-style: italic;
 }`,`${l} .hljs-doctag,
 ${l} .hljs-keyword,
 ${l} .hljs-formula {
 color: var(--n-hue-3);
 }`,`${l} .hljs-section,
 ${l} .hljs-name,
 ${l} .hljs-selector-tag,
 ${l} .hljs-deletion,
 ${l} .hljs-subst {
 color: var(--n-hue-5);
 }`,`${l} .hljs-literal {
 color: var(--n-hue-1);
 }`,`${l} .hljs-string,
 ${l} .hljs-regexp,
 ${l} .hljs-addition,
 ${l} .hljs-attribute,
 ${l} .hljs-meta-string {
 color: var(--n-hue-4);
 }`,`${l} .hljs-built_in,
 ${l} .hljs-class .hljs-title {
 color: var(--n-hue-6-2);
 }`,`${l} .hljs-attr,
 ${l} .hljs-variable,
 ${l} .hljs-template-variable,
 ${l} .hljs-type,
 ${l} .hljs-selector-class,
 ${l} .hljs-selector-attr,
 ${l} .hljs-selector-pseudo,
 ${l} .hljs-number {
 color: var(--n-hue-6);
 }`,`${l} .hljs-symbol,
 ${l} .hljs-bullet,
 ${l} .hljs-link,
 ${l} .hljs-meta,
 ${l} .hljs-selector-id,
 ${l} .hljs-title {
 color: var(--n-hue-2);
 }`,`${l} .hljs-emphasis {
 font-style: italic;
 }`,`${l} .hljs-strong {
 font-weight: var(--n-font-weight-strong);
 }`,`${l} .hljs-link {
 text-decoration: underline;
 }`]}]),zn=Object.assign(Object.assign({},bt.props),{language:String,code:{type:String,default:""},trim:{type:Boolean,default:!0},hljs:Object,uri:Boolean,inline:Boolean,wordWrap:Boolean,showLineNumbers:Boolean,internalFontSize:Number,internalNoHighlight:Boolean}),dt=pt({name:"Code",props:zn,setup(u,{slots:l}){const{internalNoHighlight:y}=u,{mergedClsPrefixRef:v,inlineThemeDisabled:A}=wn(),O=Re(null),H=y?{value:void 0}:Pn(u),ie=(w,$,S)=>{const{value:U}=H;return!U||!(w&&U.getLanguage(w))?null:U.highlight(S?$.trim():$,{language:w}).value},te=xe(()=>u.inline||u.wordWrap?!1:u.showLineNumbers),K=()=>{if(l.default)return;const{value:w}=O;if(!w)return;const{language:$}=u,S=u.uri?window.decodeURIComponent(u.code):u.code;if($){const P=ie($,S,u.trim);if(P!==null){if(u.inline)w.innerHTML=P;else{const Z=w.querySelector(".__code__");Z&&w.removeChild(Z);const Q=document.createElement("pre");Q.className="__code__",Q.innerHTML=P,w.appendChild(Q)}return}}if(u.inline){w.textContent=S;return}const U=w.querySelector(".__code__");if(U)U.textContent=S;else{const P=document.createElement("pre");P.className="__code__",P.textContent=S,w.innerHTML="",w.appendChild(P)}};Sn(K),Le(it(u,"language"),K),Le(it(u,"code"),K),y||Le(H,K);const pe=bt("Code","-code",Wn,Un,u,v),F=xe(()=>{const{common:{cubicBezierEaseInOut:w,fontFamilyMono:$},self:{textColor:S,fontSize:U,fontWeightStrong:P,lineNumberTextColor:Z,"mono-3":Q,"hue-1":be,"hue-2":fe,"hue-3":a,"hue-4":E,"hue-5":M,"hue-5-2":I,"hue-6":W,"hue-6-2":D}}=pe.value,{internalFontSize:ne}=u;return{"--n-font-size":ne?`${ne}px`:U,"--n-font-family":$,"--n-font-weight-strong":P,"--n-bezier":w,"--n-text-color":S,"--n-mono-3":Q,"--n-hue-1":be,"--n-hue-2":fe,"--n-hue-3":a,"--n-hue-4":E,"--n-hue-5":M,"--n-hue-5-2":I,"--n-hue-6":W,"--n-hue-6-2":D,"--n-line-number-text-color":Z}}),q=A?Mn("code",xe(()=>`${u.internalFontSize||"a"}`),F,u):void 0;return{mergedClsPrefix:v,codeRef:O,mergedShowLineNumbers:te,lineNumbers:xe(()=>{let w=1;const $=[];let S=!1;for(const U of u.code)U===`
`?(S=!0,$.push(w++)):S=!1;return S||$.push(w++),$.join(`
`)}),cssVars:A?void 0:F,themeClass:q?.themeClass,onRender:q?.onRender}},render(){var u,l;const{mergedClsPrefix:y,wordWrap:v,mergedShowLineNumbers:A,onRender:O}=this;return O?.(),rt("code",{class:[`${y}-code`,this.themeClass,v&&`${y}-code--word-wrap`,A&&`${y}-code--show-line-numbers`],style:this.cssVars,ref:"codeRef"},A?rt("pre",{class:`${y}-code__line-numbers`},this.lineNumbers):null,(l=(u=this.$slots).default)===null||l===void 0?void 0:l.call(u))}});function is(u){return ge({url:"/job/batch/list",method:"get",params:u})}function as(u){return ge({url:`/job/batch/${u}`,method:"get"})}function os(u){return ge({url:`/job/batch/stop/${u}`,method:"post"})}function ls(u){return ge({url:`/job/batch/retry/${u}`,method:"post"})}function cs(u){return ge({url:"/job/batch/ids",method:"delete",data:[u]})}function us(u){return ge({url:"/job/batch/ids",method:"delete",data:u})}const Gn={class:"inline-block",viewBox:"0 0 1024 1024",width:"1em",height:"1em"};function Kn(u,l){return Oe(),Et("svg",Gn,[...l[0]||(l[0]=[xt("path",{fill:"currentColor",d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9C912 303 733.5 124.3 512.6 124C291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2c3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1c-8.1-6.6-15.9-13.7-23.4-21.2a318.6 318.6 0 0 1-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7s63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6s52.5 63.6 68.6 101.7c16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.6 318.6 0 0 1-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 0 0-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9z"},null,-1)])])}const Fn=_t({name:"ant-design-redo-outlined",render:Kn}),qn={class:"inline-block",viewBox:"0 0 1024 1024",width:"1em",height:"1em"};function Jn(u,l){return Oe(),Et("svg",qn,[...l[0]||(l[0]=[xt("path",{fill:"currentColor",d:"M168 504.2c1-43.7 10-86.1 26.9-126c17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 0 1 755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 0 0 3 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92C282.7 92 96.3 275.6 92 503.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8m756 7.8h-60c-4.4 0-7.9 3.5-8 7.8c-1 43.7-10 86.1-26.9 126c-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 0 1 512.1 856a342.24 342.24 0 0 1-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 0 0-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 0 0-8-8.2"},null,-1)])])}const Vn=_t({name:"ant-design-sync-outlined",render:Jn});var Pe,gt;function Xn(){if(gt)return Pe;gt=1;function u(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const s=e[t],d=typeof s;(d==="object"||d==="function")&&!Object.isFrozen(s)&&u(s)}),e}class l{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function y(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function v(e,...t){const s=Object.create(null);for(const d in e)s[d]=e[d];return t.forEach(function(d){for(const N in d)s[N]=d[N]}),s}const A="</span>",O=e=>!!e.scope,H=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const s=e.split(".");return[`${t}${s.shift()}`,...s.map((d,N)=>`${d}${"_".repeat(N+1)}`)].join(" ")}return`${t}${e}`};class ie{constructor(t,s){this.buffer="",this.classPrefix=s.classPrefix,t.walk(this)}addText(t){this.buffer+=y(t)}openNode(t){if(!O(t))return;const s=H(t.scope,{prefix:this.classPrefix});this.span(s)}closeNode(t){O(t)&&(this.buffer+=A)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const te=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class K{constructor(){this.rootNode=te(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const s=te({scope:t});this.add(s),this.stack.push(s)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,s){return typeof s=="string"?t.addText(s):s.children&&(t.openNode(s),s.children.forEach(d=>this._walk(t,d)),t.closeNode(s)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(s=>typeof s=="string")?t.children=[t.children.join("")]:t.children.forEach(s=>{K._collapse(s)}))}}class pe extends K{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,s){const d=t.root;s&&(d.scope=`language:${s}`),this.add(d)}toHTML(){return new ie(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function F(e){return e?typeof e=="string"?e:e.source:null}function q(e){return S("(?=",e,")")}function w(e){return S("(?:",e,")*")}function $(e){return S("(?:",e,")?")}function S(...e){return e.map(s=>F(s)).join("")}function U(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function P(...e){return"("+(U(e).capture?"":"?:")+e.map(d=>F(d)).join("|")+")"}function Z(e){return new RegExp(e.toString()+"|").exec("").length-1}function Q(e,t){const s=e&&e.exec(t);return s&&s.index===0}const be=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function fe(e,{joinWith:t}){let s=0;return e.map(d=>{s+=1;const N=s;let j=F(d),o="";for(;j.length>0;){const i=be.exec(j);if(!i){o+=j;break}o+=j.substring(0,i.index),j=j.substring(i.index+i[0].length),i[0][0]==="\\"&&i[1]?o+="\\"+String(Number(i[1])+N):(o+=i[0],i[0]==="("&&s++)}return o}).map(d=>`(${d})`).join(t)}const a=/\b\B/,E="[a-zA-Z]\\w*",M="[a-zA-Z_]\\w*",I="\\b\\d+(\\.\\d+)?",W="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",D="\\b(0b[01]+)",ne="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",ae=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=S(t,/.*\b/,e.binary,/\b.*/)),v({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(s,d)=>{s.index!==0&&d.ignoreMatch()}},e)},_e={begin:"\\\\[\\s\\S]",relevance:0},mt={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[_e]},yt={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[_e]},kt={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},me=function(e,t,s={}){const d=v({scope:"comment",begin:e,end:t,contains:[]},s);d.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const N=P("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return d.contains.push({begin:S(/[ ]+/,"(",N,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),d},wt=me("//","$"),St=me("/\\*","\\*/"),Mt=me("#","$"),vt={scope:"number",begin:I,relevance:0},Nt={scope:"number",begin:W,relevance:0},jt={scope:"number",begin:D,relevance:0},Rt={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[_e,{begin:/\[/,end:/\]/,relevance:0,contains:[_e]}]},Ot={scope:"title",begin:E,relevance:0},Ct={scope:"title",begin:M,relevance:0},Tt={begin:"\\.\\s*"+M,relevance:0};var ye=Object.freeze({__proto__:null,APOS_STRING_MODE:mt,BACKSLASH_ESCAPE:_e,BINARY_NUMBER_MODE:jt,BINARY_NUMBER_RE:D,COMMENT:me,C_BLOCK_COMMENT_MODE:St,C_LINE_COMMENT_MODE:wt,C_NUMBER_MODE:Nt,C_NUMBER_RE:W,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(t,s)=>{s.data._beginMatch=t[1]},"on:end":(t,s)=>{s.data._beginMatch!==t[1]&&s.ignoreMatch()}})},HASH_COMMENT_MODE:Mt,IDENT_RE:E,MATCH_NOTHING_RE:a,METHOD_GUARD:Tt,NUMBER_MODE:vt,NUMBER_RE:I,PHRASAL_WORDS_MODE:kt,QUOTE_STRING_MODE:yt,REGEXP_MODE:Rt,RE_STARTERS_RE:ne,SHEBANG:ae,TITLE_MODE:Ot,UNDERSCORE_IDENT_RE:M,UNDERSCORE_TITLE_MODE:Ct});function Bt(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function At(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function $t(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Bt,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function It(e,t){Array.isArray(e.illegal)&&(e.illegal=P(...e.illegal))}function Dt(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Lt(e,t){e.relevance===void 0&&(e.relevance=1)}const Pt=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const s=Object.assign({},e);Object.keys(e).forEach(d=>{delete e[d]}),e.keywords=s.keywords,e.begin=S(s.beforeMatch,q(s.begin)),e.starts={relevance:0,contains:[Object.assign(s,{endsParent:!0})]},e.relevance=0,delete s.beforeMatch},Ht=["of","and","for","in","not","or","if","then","parent","list","value"],Ut="keyword";function Ue(e,t,s=Ut){const d=Object.create(null);return typeof e=="string"?N(s,e.split(" ")):Array.isArray(e)?N(s,e):Object.keys(e).forEach(function(j){Object.assign(d,Ue(e[j],t,j))}),d;function N(j,o){t&&(o=o.map(i=>i.toLowerCase())),o.forEach(function(i){const h=i.split("|");d[h[0]]=[j,Wt(h[0],h[1])]})}}function Wt(e,t){return t?Number(t):zt(e)?0:1}function zt(e){return Ht.includes(e.toLowerCase())}const We={},oe=e=>{console.error(e)},ze=(e,...t)=>{console.log(`WARN: ${e}`,...t)},he=(e,t)=>{We[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),We[`${e}/${t}`]=!0)},ke=new Error;function Ge(e,t,{key:s}){let d=0;const N=e[s],j={},o={};for(let i=1;i<=t.length;i++)o[i+d]=N[i],j[i+d]=!0,d+=Z(t[i-1]);e[s]=o,e[s]._emit=j,e[s]._multi=!0}function Gt(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw oe("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ke;if(typeof e.beginScope!="object"||e.beginScope===null)throw oe("beginScope must be object"),ke;Ge(e,e.begin,{key:"beginScope"}),e.begin=fe(e.begin,{joinWith:""})}}function Kt(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw oe("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ke;if(typeof e.endScope!="object"||e.endScope===null)throw oe("endScope must be object"),ke;Ge(e,e.end,{key:"endScope"}),e.end=fe(e.end,{joinWith:""})}}function Ft(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function qt(e){Ft(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),Gt(e),Kt(e)}function Jt(e){function t(o,i){return new RegExp(F(o),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(i?"g":""))}class s{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(i,h){h.position=this.position++,this.matchIndexes[this.matchAt]=h,this.regexes.push([h,i]),this.matchAt+=Z(i)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const i=this.regexes.map(h=>h[1]);this.matcherRe=t(fe(i,{joinWith:"|"}),!0),this.lastIndex=0}exec(i){this.matcherRe.lastIndex=this.lastIndex;const h=this.matcherRe.exec(i);if(!h)return null;const T=h.findIndex((Ee,Te)=>Te>0&&Ee!==void 0),R=this.matchIndexes[T];return h.splice(0,T),Object.assign(h,R)}}class d{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(i){if(this.multiRegexes[i])return this.multiRegexes[i];const h=new s;return this.rules.slice(i).forEach(([T,R])=>h.addRule(T,R)),h.compile(),this.multiRegexes[i]=h,h}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(i,h){this.rules.push([i,h]),h.type==="begin"&&this.count++}exec(i){const h=this.getMatcher(this.regexIndex);h.lastIndex=this.lastIndex;let T=h.exec(i);if(this.resumingScanAtSamePosition()&&!(T&&T.index===this.lastIndex)){const R=this.getMatcher(0);R.lastIndex=this.lastIndex+1,T=R.exec(i)}return T&&(this.regexIndex+=T.position+1,this.regexIndex===this.count&&this.considerAll()),T}}function N(o){const i=new d;return o.contains.forEach(h=>i.addRule(h.begin,{rule:h,type:"begin"})),o.terminatorEnd&&i.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&i.addRule(o.illegal,{type:"illegal"}),i}function j(o,i){const h=o;if(o.isCompiled)return h;[At,Dt,qt,Pt].forEach(R=>R(o,i)),e.compilerExtensions.forEach(R=>R(o,i)),o.__beforeBegin=null,[$t,It,Lt].forEach(R=>R(o,i)),o.isCompiled=!0;let T=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),T=o.keywords.$pattern,delete o.keywords.$pattern),T=T||/\w+/,o.keywords&&(o.keywords=Ue(o.keywords,e.case_insensitive)),h.keywordPatternRe=t(T,!0),i&&(o.begin||(o.begin=/\B|\b/),h.beginRe=t(h.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(h.endRe=t(h.end)),h.terminatorEnd=F(h.end)||"",o.endsWithParent&&i.terminatorEnd&&(h.terminatorEnd+=(o.end?"|":"")+i.terminatorEnd)),o.illegal&&(h.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(R){return Vt(R==="self"?o:R)})),o.contains.forEach(function(R){j(R,h)}),o.starts&&j(o.starts,i),h.matcher=N(h),h}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=v(e.classNameAliases||{}),j(e)}function Ke(e){return e?e.endsWithParent||Ke(e.starts):!1}function Vt(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return v(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:Ke(e)?v(e,{starts:e.starts?v(e.starts):null}):Object.isFrozen(e)?v(e):e}var Xt="11.11.1";class Yt extends Error{constructor(t,s){super(t),this.name="HTMLInjectionError",this.html=s}}const Ce=y,Fe=v,qe=Symbol("nomatch"),Zt=7,Je=function(e){const t=Object.create(null),s=Object.create(null),d=[];let N=!0;const j="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let i={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:pe};function h(n){return i.noHighlightRe.test(n)}function T(n){let f=n.className+" ";f+=n.parentNode?n.parentNode.className:"";const b=i.languageDetectRe.exec(f);if(b){const x=se(b[1]);return x||(ze(j.replace("{}",b[1])),ze("Falling back to no-highlight mode for this block.",n)),x?b[1]:"no-highlight"}return f.split(/\s+/).find(x=>h(x)||se(x))}function R(n,f,b){let x="",C="";typeof f=="object"?(x=n,b=f.ignoreIllegals,C=f.language):(he("10.7.0","highlight(lang, code, ...args) has been deprecated."),he("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),C=n,x=f),b===void 0&&(b=!0);const J={code:x,language:C};Se("before:highlight",J);const re=J.result?J.result:Ee(J.language,J.code,b);return re.code=J.code,Se("after:highlight",re),re}function Ee(n,f,b,x){const C=Object.create(null);function J(r,c){return r.keywords[c]}function re(){if(!g.keywords){B.addText(m);return}let r=0;g.keywordPatternRe.lastIndex=0;let c=g.keywordPatternRe.exec(m),p="";for(;c;){p+=m.substring(r,c.index);const _=Y.case_insensitive?c[0].toLowerCase():c[0],L=J(g,_);if(L){const[ee,bn]=L;if(B.addText(p),p="",C[_]=(C[_]||0)+1,C[_]<=Zt&&(Ne+=bn),ee.startsWith("_"))p+=c[0];else{const _n=Y.classNameAliases[ee]||ee;X(c[0],_n)}}else p+=c[0];r=g.keywordPatternRe.lastIndex,c=g.keywordPatternRe.exec(m)}p+=m.substring(r),B.addText(p)}function Me(){if(m==="")return;let r=null;if(typeof g.subLanguage=="string"){if(!t[g.subLanguage]){B.addText(m);return}r=Ee(g.subLanguage,m,!0,nt[g.subLanguage]),nt[g.subLanguage]=r._top}else r=Be(m,g.subLanguage.length?g.subLanguage:null);g.relevance>0&&(Ne+=r.relevance),B.__addSublanguage(r._emitter,r.language)}function z(){g.subLanguage!=null?Me():re(),m=""}function X(r,c){r!==""&&(B.startScope(c),B.addText(r),B.endScope())}function Ze(r,c){let p=1;const _=c.length-1;for(;p<=_;){if(!r._emit[p]){p++;continue}const L=Y.classNameAliases[r[p]]||r[p],ee=c[p];L?X(ee,L):(m=ee,re(),m=""),p++}}function Qe(r,c){return r.scope&&typeof r.scope=="string"&&B.openNode(Y.classNameAliases[r.scope]||r.scope),r.beginScope&&(r.beginScope._wrap?(X(m,Y.classNameAliases[r.beginScope._wrap]||r.beginScope._wrap),m=""):r.beginScope._multi&&(Ze(r.beginScope,c),m="")),g=Object.create(r,{parent:{value:g}}),g}function et(r,c,p){let _=Q(r.endRe,p);if(_){if(r["on:end"]){const L=new l(r);r["on:end"](c,L),L.isMatchIgnored&&(_=!1)}if(_){for(;r.endsParent&&r.parent;)r=r.parent;return r}}if(r.endsWithParent)return et(r.parent,c,p)}function fn(r){return g.matcher.regexIndex===0?(m+=r[0],1):(De=!0,0)}function hn(r){const c=r[0],p=r.rule,_=new l(p),L=[p.__beforeBegin,p["on:begin"]];for(const ee of L)if(ee&&(ee(r,_),_.isMatchIgnored))return fn(c);return p.skip?m+=c:(p.excludeBegin&&(m+=c),z(),!p.returnBegin&&!p.excludeBegin&&(m=c)),Qe(p,r),p.returnBegin?0:c.length}function dn(r){const c=r[0],p=f.substring(r.index),_=et(g,r,p);if(!_)return qe;const L=g;g.endScope&&g.endScope._wrap?(z(),X(c,g.endScope._wrap)):g.endScope&&g.endScope._multi?(z(),Ze(g.endScope,r)):L.skip?m+=c:(L.returnEnd||L.excludeEnd||(m+=c),z(),L.excludeEnd&&(m=c));do g.scope&&B.closeNode(),!g.skip&&!g.subLanguage&&(Ne+=g.relevance),g=g.parent;while(g!==_.parent);return _.starts&&Qe(_.starts,r),L.returnEnd?0:c.length}function gn(){const r=[];for(let c=g;c!==Y;c=c.parent)c.scope&&r.unshift(c.scope);r.forEach(c=>B.openNode(c))}let ve={};function tt(r,c){const p=c&&c[0];if(m+=r,p==null)return z(),0;if(ve.type==="begin"&&c.type==="end"&&ve.index===c.index&&p===""){if(m+=f.slice(c.index,c.index+1),!N){const _=new Error(`0 width match regex (${n})`);throw _.languageName=n,_.badRule=ve.rule,_}return 1}if(ve=c,c.type==="begin")return hn(c);if(c.type==="illegal"&&!b){const _=new Error('Illegal lexeme "'+p+'" for mode "'+(g.scope||"<unnamed>")+'"');throw _.mode=g,_}else if(c.type==="end"){const _=dn(c);if(_!==qe)return _}if(c.type==="illegal"&&p==="")return m+=`
`,1;if(Ie>1e5&&Ie>c.index*3)throw new Error("potential infinite loop, way more iterations than matches");return m+=p,p.length}const Y=se(n);if(!Y)throw oe(j.replace("{}",n)),new Error('Unknown language: "'+n+'"');const pn=Jt(Y);let $e="",g=x||pn;const nt={},B=new i.__emitter(i);gn();let m="",Ne=0,le=0,Ie=0,De=!1;try{if(Y.__emitTokens)Y.__emitTokens(f,B);else{for(g.matcher.considerAll();;){Ie++,De?De=!1:g.matcher.considerAll(),g.matcher.lastIndex=le;const r=g.matcher.exec(f);if(!r)break;const c=f.substring(le,r.index),p=tt(c,r);le=r.index+p}tt(f.substring(le))}return B.finalize(),$e=B.toHTML(),{language:n,value:$e,relevance:Ne,illegal:!1,_emitter:B,_top:g}}catch(r){if(r.message&&r.message.includes("Illegal"))return{language:n,value:Ce(f),illegal:!0,relevance:0,_illegalBy:{message:r.message,index:le,context:f.slice(le-100,le+100),mode:r.mode,resultSoFar:$e},_emitter:B};if(N)return{language:n,value:Ce(f),illegal:!1,relevance:0,errorRaised:r,_emitter:B,_top:g};throw r}}function Te(n){const f={value:Ce(n),illegal:!1,relevance:0,_top:o,_emitter:new i.__emitter(i)};return f._emitter.addText(n),f}function Be(n,f){f=f||i.languages||Object.keys(t);const b=Te(n),x=f.filter(se).filter(Ye).map(z=>Ee(z,n,!1));x.unshift(b);const C=x.sort((z,X)=>{if(z.relevance!==X.relevance)return X.relevance-z.relevance;if(z.language&&X.language){if(se(z.language).supersetOf===X.language)return 1;if(se(X.language).supersetOf===z.language)return-1}return 0}),[J,re]=C,Me=J;return Me.secondBest=re,Me}function Qt(n,f,b){const x=f&&s[f]||b;n.classList.add("hljs"),n.classList.add(`language-${x}`)}function Ae(n){let f=null;const b=T(n);if(h(b))return;if(Se("before:highlightElement",{el:n,language:b}),n.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",n);return}if(n.children.length>0&&(i.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(n)),i.throwUnescapedHTML))throw new Yt("One of your code blocks includes unescaped HTML.",n.innerHTML);f=n;const x=f.textContent,C=b?R(x,{language:b,ignoreIllegals:!0}):Be(x);n.innerHTML=C.value,n.dataset.highlighted="yes",Qt(n,b,C.language),n.result={language:C.language,re:C.relevance,relevance:C.relevance},C.secondBest&&(n.secondBest={language:C.secondBest.language,relevance:C.secondBest.relevance}),Se("after:highlightElement",{el:n,result:C,text:x})}function en(n){i=Fe(i,n)}const tn=()=>{we(),he("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function nn(){we(),he("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Ve=!1;function we(){function n(){we()}if(document.readyState==="loading"){Ve||window.addEventListener("DOMContentLoaded",n,!1),Ve=!0;return}document.querySelectorAll(i.cssSelector).forEach(Ae)}function sn(n,f){let b=null;try{b=f(e)}catch(x){if(oe("Language definition for '{}' could not be registered.".replace("{}",n)),N)oe(x);else throw x;b=o}b.name||(b.name=n),t[n]=b,b.rawDefinition=f.bind(null,e),b.aliases&&Xe(b.aliases,{languageName:n})}function rn(n){delete t[n];for(const f of Object.keys(s))s[f]===n&&delete s[f]}function an(){return Object.keys(t)}function se(n){return n=(n||"").toLowerCase(),t[n]||t[s[n]]}function Xe(n,{languageName:f}){typeof n=="string"&&(n=[n]),n.forEach(b=>{s[b.toLowerCase()]=f})}function Ye(n){const f=se(n);return f&&!f.disableAutodetect}function on(n){n["before:highlightBlock"]&&!n["before:highlightElement"]&&(n["before:highlightElement"]=f=>{n["before:highlightBlock"](Object.assign({block:f.el},f))}),n["after:highlightBlock"]&&!n["after:highlightElement"]&&(n["after:highlightElement"]=f=>{n["after:highlightBlock"](Object.assign({block:f.el},f))})}function ln(n){on(n),d.push(n)}function cn(n){const f=d.indexOf(n);f!==-1&&d.splice(f,1)}function Se(n,f){const b=n;d.forEach(function(x){x[b]&&x[b](f)})}function un(n){return he("10.7.0","highlightBlock will be removed entirely in v12.0"),he("10.7.0","Please use highlightElement now."),Ae(n)}Object.assign(e,{highlight:R,highlightAuto:Be,highlightAll:we,highlightElement:Ae,highlightBlock:un,configure:en,initHighlighting:tn,initHighlightingOnLoad:nn,registerLanguage:sn,unregisterLanguage:rn,listLanguages:an,getLanguage:se,registerAliases:Xe,autoDetection:Ye,inherit:Fe,addPlugin:ln,removePlugin:cn}),e.debugMode=function(){N=!1},e.safeMode=function(){N=!0},e.versionString=Xt,e.regex={concat:S,lookahead:q,either:P,optional:$,anyNumberOfTimes:w};for(const n in ye)typeof ye[n]=="object"&&u(ye[n]);return Object.assign(e,ye),e},de=Je({});return de.newInstance=()=>Je({}),Pe=de,de.HighlightJS=de,de.default=de,Pe}var Yn=Xn();const He=vn(Yn);function Zn(u){const l={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},y={match:/[{}[\],:]/,className:"punctuation",relevance:0},v=["true","false","null"],A={scope:"literal",beginKeywords:v.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:v},contains:[l,y,u.QUOTE_STRING_MODE,A,u.C_NUMBER_MODE,u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function Qn(u){return typeof u=="function"||Object.prototype.toString.call(u)==="[object Object]"&&!An(u)}const fs=pt({name:"JobTaskListTable",__name:"job-task-list-table",props:{rowData:{default:null},isRetry:{type:Boolean}},emits:["retry","showLog"],setup(u,{emit:l}){He.registerLanguage("json",Zn);const y=u,v=l,A=Re([]),O=Re(new Map),H=Re(new Map),{columns:ie,searchParams:te,columnChecks:K,data:pe,getData:F,loading:q,mobilePagination:w}=Dn({apiFn:$n,apiParams:{page:1,size:10,groupName:y.rowData?.groupName,taskBatchId:y.rowData?.id,startId:0,fromIndex:0,taskStatus:void 0},columns:()=>[{key:"id",title:G("page.jobBatch.jobTask.id"),align:"left",width:100,ellipsis:{tooltip:!0}},{key:"index",title:G("common.log"),align:"center",width:64,render:a=>k(ue,{type:"info",text:!0,onClick:()=>v("showLog",a)},{default:()=>[k("span",{class:"w-28px ws-break-spaces"},[G("page.log.view")])]})},{key:"groupName",title:G("page.jobBatch.jobTask.groupName"),align:"left",minWidth:180},{key:"taskName",title:G("page.jobBatch.jobName"),align:"left",minWidth:180},{key:"taskStatus",title:G("page.jobBatch.jobTask.taskStatus"),align:"left",minWidth:80,render:a=>{if(a.taskStatus===null)return null;const E=G(Tn[a.taskStatus]);return k(Bn,{type:{1:"info",2:"info",3:"info",4:"error",5:"error",6:"error"}[a.taskStatus]},Qn(E)?E:{default:()=>[E]})}},{key:"clientInfo",title:G("page.jobBatch.jobTask.clientInfo"),align:"left",minWidth:150,render:a=>{if(a.clientInfo){const E=a.clientInfo?.split("@"),M=E.length>1?E[1]:"";return k("div",null,[M])}return k("div",null,[a.clientInfo])}},{key:"argsStr",title:G("page.jobBatch.jobTask.argsStr"),align:"center",titleAlign:"center",minWidth:120,render:a=>{const E=()=>k("td",{class:"n-data-table-td n-data-table-td--last-col",colspan:ie.value.length||9},[k(dt,{class:`max-h-300px overflow-auto ${String(a.parentId)!=="0"?"pl-36px":""}`,hljs:He,code:ht(a.argsStr),language:"json","show-line-numbers":!0},null)]),M=()=>{if(H.value.get(a.id)&&(document.querySelector(`#job-task-result-${a.id}`)?.remove(),H.value.set(a.id,!1)),O.value.get(a.id))return;const W=document.querySelector(`#job-task-${a.id}`),D=document.createElement("tr");D.setAttribute("id",`job-task-args-${a.id}`),D.setAttribute("class","n-data-table-tr n-data-table-tr--expanded"),W?.after(D),ft(E(),D),O.value.set(a.id,!0)},I=()=>{if(!O.value.get(a.id))return;document.querySelector(`#job-task-args-${a.id}`)?.remove(),O.value.set(a.id,!1)};return k(ct,null,[O.value.get(a.id)?k(ue,{type:"primary",text:!0,onClick:()=>I()},{default:()=>[k("span",{class:"w-28px ws-break-spaces"},["收起"])]}):k(ue,{type:"primary",text:!0,disabled:!lt(a.argsStr),onClick:()=>M()},{default:()=>[k("span",{class:"w-28px ws-break-spaces"},[`查看
参数`])]})])}},{key:"resultMessage",title:G("page.jobBatch.jobTask.resultMessage"),align:"left",minWidth:120,render:a=>{const E=()=>k("td",{class:"n-data-table-td n-data-table-td--last-col",colspan:ie.value.length||9},[k(dt,{class:`max-h-300px overflow-auto ${String(a.parentId)!=="0"?"pl-36px":""}`,hljs:He,code:ht(a.resultMessage),language:"json","show-line-numbers":!0},null)]),M=()=>{if(O.value.get(a.id)&&(document.querySelector(`#job-task-args-${a.id}`)?.remove(),O.value.set(a.id,!1)),H.value.get(a.id))return;const W=document.querySelector(`#job-task-${a.id}`),D=document.createElement("tr");D.setAttribute("id",`job-task-result-${a.id}`),D.setAttribute("class","n-data-table-tr n-data-table-tr--expanded"),W?.after(D),ft(E(),D),H.value.set(a.id,!0)},I=()=>{if(!H.value.get(a.id))return;document.querySelector(`#job-task-result-${a.id}`)?.remove(),H.value.set(a.id,!1)};return k(ct,null,[H.value.get(a.id)?k(ue,{type:"primary",text:!0,onClick:()=>I()},{default:()=>[k("span",{class:"w-28px ws-break-spaces"},["收起"])]}):k(ue,{type:"primary",text:!0,disabled:!lt(a.resultMessage),onClick:()=>M()},{default:()=>[k("span",{class:"w-28px ws-break-spaces"},[`查看
结果`])]})])}},{key:"retryCount",title:G("page.jobBatch.jobTask.retryCount"),align:"left",minWidth:64},{key:"createDt",title:G("page.jobBatch.jobTask.createDt"),align:"left",minWidth:130},{key:"duration",title:G("page.jobBatch.duration"),align:"center",width:120,render:a=>a.taskStatus===3?Math.round(ut(a.updateDt).diff(ut(a.createDt))/1e3):null}]}),$=()=>{const a=H.value.entries();for(const[M,I]of a)document.querySelector(`#job-task-result-${M}`)?.remove(),H.value.set(M,!1);const E=O.value.entries();for(const[M,I]of E)document.querySelector(`#job-task-args-${M}`)?.remove(),O.value.set(M,!1)},S=a=>new Promise((E,M)=>{In({groupName:a.groupName,taskBatchId:a.taskBatchId,startId:0,fromIndex:0,parentId:a.id}).then(I=>{a.children=I.data||[],E()}).catch(I=>{M(I)})}),U=a=>{A.value=a},P=a=>{A.value=[],$()};async function Z(){te.taskStatus=void 0,A.value=[],$(),await F()}const Q=async()=>{v("retry")},be=()=>y.rowData?.taskBatchStatus===4||y.rowData?.taskBatchStatus===5||y.rowData?.taskBatchStatus===6;return(()=>{K.value=K.value.filter(a=>["4","5"].includes(String(y.rowData?.taskType)||"-1")?!0:a.key!=="taskName")})(),(a,E)=>{const M=Rn,I=Vn,W=Fn,D=Ln,ne=Nn;return Oe(),at(ne,{bordered:!1,size:"small",class:"card-wrapper pt-16px sm:flex-1-hidden","content-style":{padding:0},"header-style":{padding:0}},{header:ce(()=>[k(M,{value:V(te).taskStatus,"onUpdate:value":[E[0]||(E[0]=ae=>V(te).taskStatus=ae),V(F)],clearable:"",class:"max-w-180px",options:V(On)(V(Cn)),placeholder:"请选择状态"},null,8,["value","options","onUpdate:value"])]),"header-extra":ce(()=>[k(V(ue),{class:"mr-16px",onClick:Z},{icon:ce(()=>[k(I,{class:"text-icon"})]),default:ce(()=>[E[1]||(E[1]=ot(" 刷新 "))]),_:1,__:[1]}),be()?(Oe(),at(V(ue),{key:0,onClick:Q},{icon:ce(()=>[k(W,{class:"text-icon"})]),default:ce(()=>[E[2]||(E[2]=ot(" 重试 "))]),_:1,__:[2]})):jn("",!0)]),default:ce(()=>[k(D,{columns:V(ie),data:V(pe),loading:V(q),remote:"","scroll-x":1e3,"row-key":ae=>ae.id,pagination:V(w),indent:16,cascade:!1,"allow-checking-not-loaded":"","expanded-row-keys":A.value,class:"mt-16px sm:h-full","row-props":ae=>({id:`job-task-${ae.id}`}),"onUpdate:expandedRowKeys":U,"onUpdate:page":P,onLoad:S},null,8,["columns","data","loading","row-key","pagination","expanded-row-keys","row-props"])]),_:1})}}});export{He as H,fs as _,us as a,is as b,cs as c,os as d,as as e,ls as f,Fn as g,Zn as j};
