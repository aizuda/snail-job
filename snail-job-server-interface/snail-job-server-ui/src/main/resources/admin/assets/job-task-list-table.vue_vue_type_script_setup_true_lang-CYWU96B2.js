import{bA as xn,cP as mn,a as me,bt as yn,b8 as Re,b9 as wn,ba as it,bx as kn,d as bt,aj as rt,bb as Sn,r as Oe,i as Mn,q as Pe,bK as at,bc as _t,be as vn,aP as be,aR as Et,b as xt,o as Ce,e as mt,cQ as Nn,c as ot,F as jn,w as ue,f as S,h as X,Q as Rn,B as fe,g as lt,ad as On,ae as Cn,cR as Tn,$ as K,cS as Bn,Z as An,aI as ct,a3 as ut,aB as ft,cT as dt,cU as ht,ai as $n}from "./index-DWIswSJW.js";import{u as In}from "./table-DmJtAhNa.js";import{m as Dn,n as Ln}from "./job-DBpejsO9.js";import{b as Pn}from "./Grid-DoBPPIj4.js";function Hn(u, l){const y=xn(mn,null);return me(()=>u.hljs||(y==null?void 0:y.mergedHljsRef.value))}function Un(u){const{textColor2:l,fontSize:y,fontWeightStrong:N,textColor3:I}=u;return{textColor:l,fontSize:y,fontWeightStrong:N,"mono-3":"#a0a1a7","hue-1":"#0184bb","hue-2":"#4078f2","hue-3":"#a626a4","hue-4":"#50a14f","hue-5":"#e45649","hue-5-2":"#c91243","hue-6":"#986801","hue-6-2":"#c18401",lineNumberTextColor:I}}const Wn={common:yn,self:Un},zn=Re([wn("code",`
 font-size: var(--n-font-size);
 font-family: var(--n-font-family);
 `,[it("show-line-numbers",`
 display: flex;
 `),kn("line-numbers",`
 user-select: none;
 padding-right: 12px;
 text-align: right;
 transition: color .3s var(--n-bezier);
 color: var(--n-line-number-text-color);
 `),it("word-wrap",[Re("pre",`
 white-space: pre-wrap;
 word-break: break-all;
 `)]),Re("pre",`
 margin: 0;
 line-height: inherit;
 font-size: inherit;
 font-family: inherit;
 `),Re("[class^=hljs]",`
 color: var(--n-text-color);
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),({props:u})=>{const l=`${u.bPrefix}code`;return[`${l} .hljs-comment,
 ${l} .hljs-quote {
 color: var(--n-mono-3);
 font-style: italic;
 }`,`${l} .hljs-doctag,
 ${l} .hljs-keyword,
 ${l} .hljs-formula {
 color: var(--n-hue-3);
 }`,`${l} .hljs-section,
 ${l} .hljs-name,
 ${l} .hljs-selector-tag,
 ${l} .hljs-deletion,
 ${l} .hljs-subst {
 color: var(--n-hue-5);
 }`,`${l} .hljs-literal {
 color: var(--n-hue-1);
 }`,`${l} .hljs-string,
 ${l} .hljs-regexp,
 ${l} .hljs-addition,
 ${l} .hljs-attribute,
 ${l} .hljs-meta-string {
 color: var(--n-hue-4);
 }`,`${l} .hljs-built_in,
 ${l} .hljs-class .hljs-title {
 color: var(--n-hue-6-2);
 }`,`${l} .hljs-attr,
 ${l} .hljs-variable,
 ${l} .hljs-template-variable,
 ${l} .hljs-type,
 ${l} .hljs-selector-class,
 ${l} .hljs-selector-attr,
 ${l} .hljs-selector-pseudo,
 ${l} .hljs-number {
 color: var(--n-hue-6);
 }`,`${l} .hljs-symbol,
 ${l} .hljs-bullet,
 ${l} .hljs-link,
 ${l} .hljs-meta,
 ${l} .hljs-selector-id,
 ${l} .hljs-title {
 color: var(--n-hue-2);
 }`,`${l} .hljs-emphasis {
 font-style: italic;
 }`,`${l} .hljs-strong {
 font-weight: var(--n-font-weight-strong);
 }`,`${l} .hljs-link {
 text-decoration: underline;
 }`]}]),Gn=Object.assign(Object.assign({},_t.props),{language:String,code:{type:String,default:""},trim:{type:Boolean,default:!0},hljs:Object,uri:Boolean,inline:Boolean,wordWrap:Boolean,showLineNumbers:Boolean,internalFontSize:Number,internalNoHighlight:Boolean}),gt=bt({name:"Code",props:Gn,setup(u,{slots:l}){const{internalNoHighlight:y}=u,{mergedClsPrefixRef:N,inlineThemeDisabled:I}=Sn(),C=Oe(null),U=y?{value:void 0}:Hn(u),re=(M,D,v)=>{const{value:W}=U;return!W||!(M&&W.getLanguage(M))?null:W.highlight(v?D.trim():D,{language:M}).value},ne=me(()=>u.inline||u.wordWrap?!1:u.showLineNumbers),F=()=>{if(l.default)return;const{value:M}=C;if(!M)return;const{language:D}=u,v=u.uri?window.decodeURIComponent(u.code):u.code;if(D){const P=re(D,v,u.trim);if(P!==null){if(u.inline)M.innerHTML=P;else{const Q=M.querySelector(".__code__");Q&&M.removeChild(Q);const ee=document.createElement("pre");ee.className="__code__",ee.innerHTML=P,M.appendChild(ee)}return}}if(u.inline){M.textContent=v;return}const W=M.querySelector(".__code__");if(W)W.textContent=v;else{const P=document.createElement("pre");P.className="__code__",P.textContent=v,M.innerHTML="",M.appendChild(P)}};Mn(F),Pe(at(u,"language"),F),Pe(at(u,"code"),F),y||Pe(U,F);const _e=_t("Code","-code",zn,Wn,u,N),q=me(()=>{const{common:{cubicBezierEaseInOut:M,fontFamilyMono:D},self:{textColor:v,fontSize:W,fontWeightStrong:P,lineNumberTextColor:Q,"mono-3":ee,"hue-1":Ee,"hue-2":de,"hue-3":he,"hue-4":ae,"hue-5":r,"hue-5-2":_,"hue-6":w,"hue-6-2":B}}=_e.value,{internalFontSize:E}=u;return{"--n-font-size":E?`${E}px`:W,"--n-font-family":D,"--n-font-weight-strong":P,"--n-bezier":M,"--n-text-color":v,"--n-mono-3":ee,"--n-hue-1":Ee,"--n-hue-2":de,"--n-hue-3":he,"--n-hue-4":ae,"--n-hue-5":r,"--n-hue-5-2":_,"--n-hue-6":w,"--n-hue-6-2":B,"--n-line-number-text-color":Q}}),J=I?vn("code",me(()=>`${u.internalFontSize||"a"}`),q,u):void 0;return{mergedClsPrefix:N,codeRef:C,mergedShowLineNumbers:ne,lineNumbers:me(()=>{let M=1;const D=[];let v=!1;for(const W of u.code)W===`
`?(v=!0,D.push(M++)):v=!1;return v||D.push(M++),D.join(`
`)}),cssVars:I?void 0:q,themeClass:J==null?void 0:J.themeClass,onRender:J==null?void 0:J.onRender}},render(){var u,l;const{mergedClsPrefix:y,wordWrap:N,mergedShowLineNumbers:I,onRender:C}=this;return C==null||C(),rt("code",{class:[`${y}-code`,this.themeClass,N&&`${y}-code--word-wrap`,I&&`${y}-code--show-line-numbers`],style:this.cssVars,ref:"codeRef"},I?rt("pre",{class:`${y}-code__line-numbers`},this.lineNumbers):null,(l=(u=this.$slots).default)===null||l===void 0?void 0:l.call(u))}});function as(u){return be({url:"/job/batch/list",method:"get",params:u})}function os(u){return be({url:`/job/batch/${u}`,method:"get"})}function ls(u){return be({url:`/job/batch/stop/${u}`,method:"post"})}function cs(u){return be({url:`/job/batch/retry/${u}`,method:"post"})}function us(u){return be({url:"/job/batch/ids",method:"delete",data:[u]})}function fs(u){return be({url:"/job/batch/ids",method:"delete",data:u})}const Kn={class:"inline-block",viewBox:"0 0 1024 1024",width:"1em",height:"1em"};function Fn(u,l){return Ce(),xt("svg",Kn,l[0]||(l[0]=[mt("path",{fill:"currentColor",d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9C912 303 733.5 124.3 512.6 124C291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2c3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1c-8.1-6.6-15.9-13.7-23.4-21.2a318.6 318.6 0 0 1-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7s63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6s52.5 63.6 68.6 101.7c16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.6 318.6 0 0 1-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 0 0-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9z"},null,-1)]))}const qn=Et({name:"ant-design-redo-outlined",render:Fn}),Jn={class:"inline-block",viewBox:"0 0 1024 1024",width:"1em",height:"1em"};function Vn(u,l){return Ce(),xt("svg",Jn,l[0]||(l[0]=[mt("path",{fill:"currentColor",d:"M168 504.2c1-43.7 10-86.1 26.9-126c17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 0 1 755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 0 0 3 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92C282.7 92 96.3 275.6 92 503.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8m756 7.8h-60c-4.4 0-7.9 3.5-8 7.8c-1 43.7-10 86.1-26.9 126c-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 0 1 512.1 856a342.24 342.24 0 0 1-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 0 0-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 0 0-8-8.2"},null,-1)]))}const Xn=Et({name:"ant-design-sync-outlined",render:Vn});var He,pt;function Zn(){if(pt)return He;pt=1;function u(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const s=e[t],h=typeof s;(h==="object"||h==="function")&&!Object.isFrozen(s)&&u(s)}),e}class l{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function y(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function N(e,...t){const s=Object.create(null);for(const h in e)s[h]=e[h];return t.forEach(function(h){for(const j in h)s[j]=h[j]}),s}const I="</span>",C=e=>!!e.scope,U=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const s=e.split(".");return[`${t}${s.shift()}`,...s.map((h,j)=>`${h}${"_".repeat(j+1)}`)].join(" ")}return`${t}${e}`};class re{constructor(t,s){this.buffer="",this.classPrefix=s.classPrefix,t.walk(this)}addText(t){this.buffer+=y(t)}openNode(t){if(!C(t))return;const s=U(t.scope,{prefix:this.classPrefix});this.span(s)}closeNode(t){C(t)&&(this.buffer+=I)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const ne=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class F{constructor(){this.rootNode=ne(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const s=ne({scope:t});this.add(s),this.stack.push(s)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,s){return typeof s=="string"?t.addText(s):s.children&&(t.openNode(s),s.children.forEach(h=>this._walk(t,h)),t.closeNode(s)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(s=>typeof s=="string")?t.children=[t.children.join("")]:t.children.forEach(s=>{F._collapse(s)}))}}class _e extends F{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,s){const h=t.root;s&&(h.scope=`language:${s}`),this.add(h)}toHTML(){return new re(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function q(e){return e?typeof e=="string"?e:e.source:null}function J(e){return v("(?=",e,")")}function M(e){return v("(?:",e,")*")}function D(e){return v("(?:",e,")?")}function v(...e){return e.map(s=>q(s)).join("")}function W(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function P(...e){return"("+(W(e).capture?"":"?:")+e.map(h=>q(h)).join("|")+")"}function Q(e){return new RegExp(e.toString()+"|").exec("").length-1}function ee(e,t){const s=e&&e.exec(t);return s&&s.index===0}const Ee=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function de(e,{joinWith:t}){let s=0;return e.map(h=>{s+=1;const j=s;let R=q(h),o="";for(;R.length>0;){const a=Ee.exec(R);if(!a){o+=R;break}o+=R.substring(0,a.index),R=R.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?o+="\\"+String(Number(a[1])+j):(o+=a[0],a[0]==="("&&s++)}return o}).map(h=>`(${h})`).join(t)}const he=/\b\B/,ae="[a-zA-Z]\\w*",r="[a-zA-Z_]\\w*",_="\\b\\d+(\\.\\d+)?",w="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",B="\\b(0b[01]+)",E="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",z=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=v(t,/.*\b/,e.binary,/\b.*/)),N({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(s,h)=>{s.index!==0&&h.ignoreMatch()}},e)},H={begin:"\\\\[\\s\\S]",relevance:0},oe={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[H]},yt={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[H]},wt={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},ye=function(e,t,s={}){const h=N({scope:"comment",begin:e,end:t,contains:[]},s);h.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const j=P("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return h.contains.push({begin:v(/[ ]+/,"(",j,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),h},kt=ye("//","$"),St=ye("/\\*","\\*/"),Mt=ye("#","$"),vt={scope:"number",begin:_,relevance:0},Nt={scope:"number",begin:w,relevance:0},jt={scope:"number",begin:B,relevance:0},Rt={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[H,{begin:/\[/,end:/\]/,relevance:0,contains:[H]}]},Ot={scope:"title",begin:ae,relevance:0},Ct={scope:"title",begin:r,relevance:0},Tt={begin:"\\.\\s*"+r,relevance:0};var we=Object.freeze({__proto__:null,APOS_STRING_MODE:oe,BACKSLASH_ESCAPE:H,BINARY_NUMBER_MODE:jt,BINARY_NUMBER_RE:B,COMMENT:ye,C_BLOCK_COMMENT_MODE:St,C_LINE_COMMENT_MODE:kt,C_NUMBER_MODE:Nt,C_NUMBER_RE:w,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(t,s)=>{s.data._beginMatch=t[1]},"on:end":(t,s)=>{s.data._beginMatch!==t[1]&&s.ignoreMatch()}})},HASH_COMMENT_MODE:Mt,IDENT_RE:ae,MATCH_NOTHING_RE:he,METHOD_GUARD:Tt,NUMBER_MODE:vt,NUMBER_RE:_,PHRASAL_WORDS_MODE:wt,QUOTE_STRING_MODE:yt,REGEXP_MODE:Rt,RE_STARTERS_RE:E,SHEBANG:z,TITLE_MODE:Ot,UNDERSCORE_IDENT_RE:r,UNDERSCORE_TITLE_MODE:Ct});function Bt(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function At(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function $t(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Bt,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function It(e,t){Array.isArray(e.illegal)&&(e.illegal=P(...e.illegal))}function Dt(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Lt(e,t){e.relevance===void 0&&(e.relevance=1)}const Pt=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const s=Object.assign({},e);Object.keys(e).forEach(h=>{delete e[h]}),e.keywords=s.keywords,e.begin=v(s.beforeMatch,J(s.begin)),e.starts={relevance:0,contains:[Object.assign(s,{endsParent:!0})]},e.relevance=0,delete s.beforeMatch},Ht=["of","and","for","in","not","or","if","then","parent","list","value"],Ut="keyword";function We(e,t,s=Ut){const h=Object.create(null);return typeof e=="string"?j(s,e.split(" ")):Array.isArray(e)?j(s,e):Object.keys(e).forEach(function(R){Object.assign(h,We(e[R],t,R))}),h;function j(R,o){t&&(o=o.map(a=>a.toLowerCase())),o.forEach(function(a){const d=a.split("|");h[d[0]]=[R,Wt(d[0],d[1])]})}}function Wt(e,t){return t?Number(t):zt(e)?0:1}function zt(e){return Ht.includes(e.toLowerCase())}const ze={},le=e=>{console.error(e)},Ge=(e,...t)=>{console.log(`WARN: ${e}`,...t)},ge=(e,t)=>{ze[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),ze[`${e}/${t}`]=!0)},ke=new Error;function Ke(e,t,{key:s}){let h=0;const j=e[s],R={},o={};for(let a=1;a<=t.length;a++)o[a+h]=j[a],R[a+h]=!0,h+=Q(t[a-1]);e[s]=o,e[s]._emit=R,e[s]._multi=!0}function Gt(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw le("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ke;if(typeof e.beginScope!="object"||e.beginScope===null)throw le("beginScope must be object"),ke;Ke(e,e.begin,{key:"beginScope"}),e.begin=de(e.begin,{joinWith:""})}}function Kt(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw le("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ke;if(typeof e.endScope!="object"||e.endScope===null)throw le("endScope must be object"),ke;Ke(e,e.end,{key:"endScope"}),e.end=de(e.end,{joinWith:""})}}function Ft(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function qt(e){Ft(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),Gt(e),Kt(e)}function Jt(e){function t(o,a){return new RegExp(q(o),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(a?"g":""))}class s{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,d){d.position=this.position++,this.matchIndexes[this.matchAt]=d,this.regexes.push([d,a]),this.matchAt+=Q(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(d=>d[1]);this.matcherRe=t(de(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const d=this.matcherRe.exec(a);if(!d)return null;const A=d.findIndex((xe,Be)=>Be>0&&xe!==void 0),O=this.matchIndexes[A];return d.splice(0,A),Object.assign(d,O)}}class h{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const d=new s;return this.rules.slice(a).forEach(([A,O])=>d.addRule(A,O)),d.compile(),this.multiRegexes[a]=d,d}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,d){this.rules.push([a,d]),d.type==="begin"&&this.count++}exec(a){const d=this.getMatcher(this.regexIndex);d.lastIndex=this.lastIndex;let A=d.exec(a);if(this.resumingScanAtSamePosition()&&!(A&&A.index===this.lastIndex)){const O=this.getMatcher(0);O.lastIndex=this.lastIndex+1,A=O.exec(a)}return A&&(this.regexIndex+=A.position+1,this.regexIndex===this.count&&this.considerAll()),A}}function j(o){const a=new h;return o.contains.forEach(d=>a.addRule(d.begin,{rule:d,type:"begin"})),o.terminatorEnd&&a.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&a.addRule(o.illegal,{type:"illegal"}),a}function R(o,a){const d=o;if(o.isCompiled)return d;[At,Dt,qt,Pt].forEach(O=>O(o,a)),e.compilerExtensions.forEach(O=>O(o,a)),o.__beforeBegin=null,[$t,It,Lt].forEach(O=>O(o,a)),o.isCompiled=!0;let A=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),A=o.keywords.$pattern,delete o.keywords.$pattern),A=A||/\w+/,o.keywords&&(o.keywords=We(o.keywords,e.case_insensitive)),d.keywordPatternRe=t(A,!0),a&&(o.begin||(o.begin=/\B|\b/),d.beginRe=t(d.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(d.endRe=t(d.end)),d.terminatorEnd=q(d.end)||"",o.endsWithParent&&a.terminatorEnd&&(d.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(d.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(O){return Vt(O==="self"?o:O)})),o.contains.forEach(function(O){R(O,d)}),o.starts&&R(o.starts,a),d.matcher=j(d),d}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=N(e.classNameAliases||{}),R(e)}function Fe(e){return e?e.endsWithParent||Fe(e.starts):!1}function Vt(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return N(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:Fe(e)?N(e,{starts:e.starts?N(e.starts):null}):Object.isFrozen(e)?N(e):e}var Xt="11.10.0";class Zt extends Error{constructor(t,s){super(t),this.name="HTMLInjectionError",this.html=s}}const Te=y,qe=N,Je=Symbol("nomatch"),Yt=7,Ve=function(e){const t=Object.create(null),s=Object.create(null),h=[];let j=!0;const R="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:_e};function d(n){return a.noHighlightRe.test(n)}function A(n){let f=n.className+" ";f+=n.parentNode?n.parentNode.className:"";const b=a.languageDetectRe.exec(f);if(b){const m=se(b[1]);return m||(Ge(R.replace("{}",b[1])),Ge("Falling back to no-highlight mode for this block.",n)),m?b[1]:"no-highlight"}return f.split(/\s+/).find(m=>d(m)||se(m))}function O(n,f,b){let m="",T="";typeof f=="object"?(m=n,b=f.ignoreIllegals,T=f.language):(ge("10.7.0","highlight(lang, code, ...args) has been deprecated."),ge("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),T=n,m=f),b===void 0&&(b=!0);const V={code:m,language:T};Me("before:highlight",V);const ie=V.result?V.result:xe(V.language,V.code,b);return ie.code=V.code,Me("after:highlight",ie),ie}function xe(n,f,b,m){const T=Object.create(null);function V(i,c){return i.keywords[c]}function ie(){if(!g.keywords){$.addText(k);return}let i=0;g.keywordPatternRe.lastIndex=0;let c=g.keywordPatternRe.exec(k),p="";for(;c;){p+=k.substring(i,c.index);const x=Y.case_insensitive?c[0].toLowerCase():c[0],L=V(g,x);if(L){const[te,_n]=L;if($.addText(p),p="",T[x]=(T[x]||0)+1,T[x]<=Yt&&(je+=_n),te.startsWith("_"))p+=c[0];else{const En=Y.classNameAliases[te]||te;Z(c[0],En)}}else p+=c[0];i=g.keywordPatternRe.lastIndex,c=g.keywordPatternRe.exec(k)}p+=k.substring(i),$.addText(p)}function ve(){if(k==="")return;let i=null;if(typeof g.subLanguage=="string"){if(!t[g.subLanguage]){$.addText(k);return}i=xe(g.subLanguage,k,!0,st[g.subLanguage]),st[g.subLanguage]=i._top}else i=Ae(k,g.subLanguage.length?g.subLanguage:null);g.relevance>0&&(je+=i.relevance),$.__addSublanguage(i._emitter,i.language)}function G(){g.subLanguage!=null?ve():ie(),k=""}function Z(i,c){i!==""&&($.startScope(c),$.addText(i),$.endScope())}function Qe(i,c){let p=1;const x=c.length-1;for(;p<=x;){if(!i._emit[p]){p++;continue}const L=Y.classNameAliases[i[p]]||i[p],te=c[p];L?Z(te,L):(k=te,ie(),k=""),p++}}function et(i,c){return i.scope&&typeof i.scope=="string"&&$.openNode(Y.classNameAliases[i.scope]||i.scope),i.beginScope&&(i.beginScope._wrap?(Z(k,Y.classNameAliases[i.beginScope._wrap]||i.beginScope._wrap),k=""):i.beginScope._multi&&(Qe(i.beginScope,c),k="")),g=Object.create(i,{parent:{value:g}}),g}function tt(i,c,p){let x=ee(i.endRe,p);if(x){if(i["on:end"]){const L=new l(i);i["on:end"](c,L),L.isMatchIgnored&&(x=!1)}if(x){for(;i.endsParent&&i.parent;)i=i.parent;return i}}if(i.endsWithParent)return tt(i.parent,c,p)}function dn(i){return g.matcher.regexIndex===0?(k+=i[0],1):(Le=!0,0)}function hn(i){const c=i[0],p=i.rule,x=new l(p),L=[p.__beforeBegin,p["on:begin"]];for(const te of L)if(te&&(te(i,x),x.isMatchIgnored))return dn(c);return p.skip?k+=c:(p.excludeBegin&&(k+=c),G(),!p.returnBegin&&!p.excludeBegin&&(k=c)),et(p,i),p.returnBegin?0:c.length}function gn(i){const c=i[0],p=f.substring(i.index),x=tt(g,i,p);if(!x)return Je;const L=g;g.endScope&&g.endScope._wrap?(G(),Z(c,g.endScope._wrap)):g.endScope&&g.endScope._multi?(G(),Qe(g.endScope,i)):L.skip?k+=c:(L.returnEnd||L.excludeEnd||(k+=c),G(),L.excludeEnd&&(k=c));do g.scope&&$.closeNode(),!g.skip&&!g.subLanguage&&(je+=g.relevance),g=g.parent;while(g!==x.parent);return x.starts&&et(x.starts,i),L.returnEnd?0:c.length}function pn(){const i=[];for(let c=g;c!==Y;c=c.parent)c.scope&&i.unshift(c.scope);i.forEach(c=>$.openNode(c))}let Ne={};function nt(i,c){const p=c&&c[0];if(k+=i,p==null)return G(),0;if(Ne.type==="begin"&&c.type==="end"&&Ne.index===c.index&&p===""){if(k+=f.slice(c.index,c.index+1),!j){const x=new Error(`0 width match regex (${n})`);throw x.languageName=n,x.badRule=Ne.rule,x}return 1}if(Ne=c,c.type==="begin")return hn(c);if(c.type==="illegal"&&!b){const x=new Error('Illegal lexeme "'+p+'" for mode "'+(g.scope||"<unnamed>")+'"');throw x.mode=g,x}else if(c.type==="end"){const x=gn(c);if(x!==Je)return x}if(c.type==="illegal"&&p==="")return 1;if(De>1e5&&De>c.index*3)throw new Error("potential infinite loop, way more iterations than matches");return k+=p,p.length}const Y=se(n);if(!Y)throw le(R.replace("{}",n)),new Error('Unknown language: "'+n+'"');const bn=Jt(Y);let Ie="",g=m||bn;const st={},$=new a.__emitter(a);pn();let k="",je=0,ce=0,De=0,Le=!1;try{if(Y.__emitTokens)Y.__emitTokens(f,$);else{for(g.matcher.considerAll();;){De++,Le?Le=!1:g.matcher.considerAll(),g.matcher.lastIndex=ce;const i=g.matcher.exec(f);if(!i)break;const c=f.substring(ce,i.index),p=nt(c,i);ce=i.index+p}nt(f.substring(ce))}return $.finalize(),Ie=$.toHTML(),{language:n,value:Ie,relevance:je,illegal:!1,_emitter:$,_top:g}}catch(i){if(i.message&&i.message.includes("Illegal"))return{language:n,value:Te(f),illegal:!0,relevance:0,_illegalBy:{message:i.message,index:ce,context:f.slice(ce-100,ce+100),mode:i.mode,resultSoFar:Ie},_emitter:$};if(j)return{language:n,value:Te(f),illegal:!1,relevance:0,errorRaised:i,_emitter:$,_top:g};throw i}}function Be(n){const f={value:Te(n),illegal:!1,relevance:0,_top:o,_emitter:new a.__emitter(a)};return f._emitter.addText(n),f}function Ae(n,f){f=f||a.languages||Object.keys(t);const b=Be(n),m=f.filter(se).filter(Ye).map(G=>xe(G,n,!1));m.unshift(b);const T=m.sort((G,Z)=>{if(G.relevance!==Z.relevance)return Z.relevance-G.relevance;if(G.language&&Z.language){if(se(G.language).supersetOf===Z.language)return 1;if(se(Z.language).supersetOf===G.language)return-1}return 0}),[V,ie]=T,ve=V;return ve.secondBest=ie,ve}function Qt(n,f,b){const m=f&&s[f]||b;n.classList.add("hljs"),n.classList.add(`language-${m}`)}function $e(n){let f=null;const b=A(n);if(d(b))return;if(Me("before:highlightElement",{el:n,language:b}),n.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",n);return}if(n.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(n)),a.throwUnescapedHTML))throw new Zt("One of your code blocks includes unescaped HTML.",n.innerHTML);f=n;const m=f.textContent,T=b?O(m,{language:b,ignoreIllegals:!0}):Ae(m);n.innerHTML=T.value,n.dataset.highlighted="yes",Qt(n,b,T.language),n.result={language:T.language,re:T.relevance,relevance:T.relevance},T.secondBest&&(n.secondBest={language:T.secondBest.language,relevance:T.secondBest.relevance}),Me("after:highlightElement",{el:n,result:T,text:m})}function en(n){a=qe(a,n)}const tn=()=>{Se(),ge("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function nn(){Se(),ge("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Xe=!1;function Se(){if(document.readyState==="loading"){Xe=!0;return}document.querySelectorAll(a.cssSelector).forEach($e)}function sn(){Xe&&Se()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",sn,!1);function rn(n,f){let b=null;try{b=f(e)}catch(m){if(le("Language definition for '{}' could not be registered.".replace("{}",n)),j)le(m);else throw m;b=o}b.name||(b.name=n),t[n]=b,b.rawDefinition=f.bind(null,e),b.aliases&&Ze(b.aliases,{languageName:n})}function an(n){delete t[n];for(const f of Object.keys(s))s[f]===n&&delete s[f]}function on(){return Object.keys(t)}function se(n){return n=(n||"").toLowerCase(),t[n]||t[s[n]]}function Ze(n,{languageName:f}){typeof n=="string"&&(n=[n]),n.forEach(b=>{s[b.toLowerCase()]=f})}function Ye(n){const f=se(n);return f&&!f.disableAutodetect}function ln(n){n["before:highlightBlock"]&&!n["before:highlightElement"]&&(n["before:highlightElement"]=f=>{n["before:highlightBlock"](Object.assign({block:f.el},f))}),n["after:highlightBlock"]&&!n["after:highlightElement"]&&(n["after:highlightElement"]=f=>{n["after:highlightBlock"](Object.assign({block:f.el},f))})}function cn(n){ln(n),h.push(n)}function un(n){const f=h.indexOf(n);f!==-1&&h.splice(f,1)}function Me(n,f){const b=n;h.forEach(function(m){m[b]&&m[b](f)})}function fn(n){return ge("10.7.0","highlightBlock will be removed entirely in v12.0"),ge("10.7.0","Please use highlightElement now."),$e(n)}Object.assign(e,{highlight:O,highlightAuto:Ae,highlightAll:Se,highlightElement:$e,highlightBlock:fn,configure:en,initHighlighting:tn,initHighlightingOnLoad:nn,registerLanguage:rn,unregisterLanguage:an,listLanguages:on,getLanguage:se,registerAliases:Ze,autoDetection:Ye,inherit:qe,addPlugin:cn,removePlugin:un}),e.debugMode=function(){j=!1},e.safeMode=function(){j=!0},e.versionString=Xt,e.regex={concat:v,lookahead:J,either:P,optional:D,anyNumberOfTimes:M};for(const n in we)typeof we[n]=="object"&&u(we[n]);return Object.assign(e,we),e},pe=Ve({});return pe.newInstance=()=>Ve({}),He=pe,pe.HighlightJS=pe,pe.default=pe,He}var Yn=Zn();const Ue=Nn(Yn);function Qn(u){const l={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},y={match:/[{}[\],:]/,className:"punctuation",relevance:0},N=["true","false","null"],I={scope:"literal",beginKeywords:N.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:N},contains:[l,y,u.QUOTE_STRING_MODE,I,u.C_NUMBER_MODE,u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function es(u){return typeof u=="function"||Object.prototype.toString.call(u)==="[object Object]"&&!$n(u)}const ds=bt({name:"JobTaskListTable",__name:"job-task-list-table",props:{rowData:{default:null},isRetry:{type:Boolean}},emits:["retry","showLog"],setup(u,{emit:l}){var he,ae;Ue.registerLanguage("json",Qn);const y=u,N=l,I=Oe([]),C=Oe(new Map),U=Oe(new Map),{columns:re,searchParams:ne,columnChecks:F,data:_e,getData:q,loading:J,mobilePagination:M}=In({apiFn:Dn,apiParams:{page:1,size:10,groupName:(he=y.rowData)==null?void 0:he.groupName,taskBatchId:(ae=y.rowData)==null?void 0:ae.id,startId:0,fromIndex:0,taskStatus:void 0},columns:()=>[{key:"id",title:K("page.jobBatch.jobTask.id"),align:"left",width:100,ellipsis:{tooltip:!0}},{key:"index",title:K("common.log"),align:"center",width:64,render:r=>S(fe,{type:"info",text:!0,onClick:()=>N("showLog",r)},{default:()=>[S("span",{class:"w-28px ws-break-spaces"},[K("page.log.view")])]})},{key:"groupName",title:K("page.jobBatch.jobTask.groupName"),align:"left",minWidth:180},{key:"taskName",title:K("page.jobBatch.jobName"),align:"left",minWidth:180},{key:"taskStatus",title:K("page.jobBatch.jobTask.taskStatus"),align:"left",minWidth:80,render:r=>{if(r.taskStatus===null)return null;const _=K(Bn[r.taskStatus]);return S(An,{type:{1:"info",2:"info",3:"info",4:"error",5:"error",6:"error"}[r.taskStatus]},es(_)?_:{default:()=>[_]})}},{key:"clientInfo",title:K("page.jobBatch.jobTask.clientInfo"),align:"left",minWidth:150,render:r=>{var _;if(r.clientInfo){const w=(_=r.clientInfo)==null?void 0:_.split("@"),B=w.length>1?w[1]:"";return S("div",null,[B])}return S("div",null,[r.clientInfo])}},{key:"argsStr",title:K("page.jobBatch.jobTask.argsStr"),align:"center",titleAlign:"center",minWidth:120,render:r=>{const _=()=>S("td",{class:"n-data-table-td n-data-table-td--last-col",colspan:re.value.length||9},[S(gt,{class:`max-h-300px overflow-auto ${String(r.parentId)!=="0"?"pl-36px":""}`,hljs:Ue,code:ht(r.argsStr),language:"json","show-line-numbers":!0},null)]),w=()=>{if(U.value.get(r.id)){const H=document.querySelector(`#job-task-result-${r.id}`);H==null||H.remove(),U.value.set(r.id,!1)}if(C.value.get(r.id))return;const E=document.querySelector(`#job-task-${r.id}`),z=document.createElement("tr");z.setAttribute("id",`job-task-args-${r.id}`),z.setAttribute("class","n-data-table-tr n-data-table-tr--expanded"),E==null||E.after(z),dt(_(),z),C.value.set(r.id,!0)},B=()=>{if(!C.value.get(r.id))return;const E=document.querySelector(`#job-task-args-${r.id}`);E==null||E.remove(),C.value.set(r.id,!1)};return S(ut,null,[C.value.get(r.id)?S(fe,{type:"primary",text:!0,onClick:()=>B()},{default:()=>[S("span",{class:"w-28px ws-break-spaces"},["收起"])]}):S(fe,{type:"primary",text:!0,disabled:!ct(r.argsStr),onClick:()=>w()},{default:()=>[S("span",{class:"w-28px ws-break-spaces"},[`查看
参数`])]})])}},{key:"resultMessage",title:K("page.jobBatch.jobTask.resultMessage"),align:"left",minWidth:120,render:r=>{const _=()=>S("td",{class:"n-data-table-td n-data-table-td--last-col",colspan:re.value.length||9},[S(gt,{class:`max-h-300px overflow-auto ${String(r.parentId)!=="0"?"pl-36px":""}`,hljs:Ue,code:ht(r.resultMessage),language:"json","show-line-numbers":!0},null)]),w=()=>{if(C.value.get(r.id)){const H=document.querySelector(`#job-task-args-${r.id}`);H==null||H.remove(),C.value.set(r.id,!1)}if(U.value.get(r.id))return;const E=document.querySelector(`#job-task-${r.id}`),z=document.createElement("tr");z.setAttribute("id",`job-task-result-${r.id}`),z.setAttribute("class","n-data-table-tr n-data-table-tr--expanded"),E==null||E.after(z),dt(_(),z),U.value.set(r.id,!0)},B=()=>{if(!U.value.get(r.id))return;const E=document.querySelector(`#job-task-result-${r.id}`);E==null||E.remove(),U.value.set(r.id,!1)};return S(ut,null,[U.value.get(r.id)?S(fe,{type:"primary",text:!0,onClick:()=>B()},{default:()=>[S("span",{class:"w-28px ws-break-spaces"},["收起"])]}):S(fe,{type:"primary",text:!0,disabled:!ct(r.resultMessage),onClick:()=>w()},{default:()=>[S("span",{class:"w-28px ws-break-spaces"},[`查看
结果`])]})])}},{key:"retryCount",title:K("page.jobBatch.jobTask.retryCount"),align:"left",minWidth:64},{key:"createDt",title:K("page.jobBatch.jobTask.createDt"),align:"left",minWidth:130},{key:"duration",title:K("page.jobBatch.duration"),align:"center",width:120,render:r=>r.taskStatus===3?Math.round(ft(r.updateDt).diff(ft(r.createDt))/1e3):null}]}),D=()=>{const r=U.value.entries();for(const[w,B]of r){const E=document.querySelector(`#job-task-result-${w}`);E==null||E.remove(),U.value.set(w,!1)}const _=C.value.entries();for(const[w,B]of _){const E=document.querySelector(`#job-task-args-${w}`);E==null||E.remove(),C.value.set(w,!1)}},v=r=>new Promise((_,w)=>{Ln({groupName:r.groupName,taskBatchId:r.taskBatchId,startId:0,fromIndex:0,parentId:r.id}).then(B=>{r.children=B.data||[],_()}).catch(B=>{w(B)})}),W=r=>{I.value=r},P=r=>{I.value=[],D()};async function Q(){ne.taskStatus=void 0,I.value=[],D(),await q()}const ee=async()=>{N("retry")},Ee=()=>{var r,_,w;return((r=y.rowData)==null?void 0:r.taskBatchStatus)===4||((_=y.rowData)==null?void 0:_.taskBatchStatus)===5||((w=y.rowData)==null?void 0:w.taskBatchStatus)===6};return(()=>{F.value=F.value.filter(r=>{var _;return["4","5"].includes(String((_=y.rowData)==null?void 0:_.taskType)||"-1")?!0:r.key!=="taskName"})})(),(r,_)=>{const w=On,B=Xn,E=qn,z=Pn,H=jn;return Ce(),ot(H,{bordered:!1,size:"small",class:"sm:flex-1-hidden card-wrapper pt-16px","content-style":{padding:0},"header-style":{padding:0}},{header:ue(()=>[S(w,{value:X(ne).taskStatus,"onUpdate:value":[_[0]||(_[0]=oe=>X(ne).taskStatus=oe),X(q)],clearable:"",class:"max-w-180px",options:X(Cn)(X(Tn)),placeholder:"请选择状态"},null,8,["value","options","onUpdate:value"])]),"header-extra":ue(()=>[S(X(fe),{class:"mr-16px",onClick:Q},{icon:ue(()=>[S(B,{class:"text-icon"})]),default:ue(()=>[_[1]||(_[1]=lt(" 刷新 "))]),_:1}),Ee()?(Ce(),ot(X(fe),{key:0,onClick:ee},{icon:ue(()=>[S(E,{class:"text-icon"})]),default:ue(()=>[_[2]||(_[2]=lt(" 重试 "))]),_:1})):Rn("",!0)]),default:ue(()=>[S(z,{columns:X(re),data:X(_e),loading:X(J),remote:"","scroll-x":1e3,"row-key":oe=>oe.id,pagination:X(M),indent:16,cascade:!1,"allow-checking-not-loaded":"","expanded-row-keys":I.value,class:"mt-16px sm:h-full","row-props":oe=>({id:`job-task-${oe.id}`}),"onUpdate:expandedRowKeys":W,"onUpdate:page":P,onLoad:v},null,8,["columns","data","loading","row-key","pagination","expanded-row-keys","row-props"])]),_:1})}}});export{Ue as H,ds as _,fs as a,as as b,us as c,ls as d,os as e,cs as f,qn as g,Qn as j};
